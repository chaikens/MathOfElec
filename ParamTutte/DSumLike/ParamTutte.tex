\documentclass[12pt,leqno]{amsart}
\usepackage{amsmath,amssymb,amsfonts,amsthm}
\usepackage{eucal,graphicx}
\usepackage{color}

\setlength{\textwidth}{6.5in}
\setlength{\oddsidemargin}{0.0in}
\setlength{\evensidemargin}{0.0in}
\setlength{\textheight}{9in}
\setlength{\topmargin}{-.4in}

%\renewcommand{\baselinestretch}{2}     % Activate for double spacing.
%\renewcommand{\baselinestretch}{1.6}   % Activate for 1-1/2 spacing.
%\renewcommand{\baselinestretch}{1.3}   % Activate for 1-1/3 spacing.


\newcommand \comment[1]{}			%  Silent version.
%\renewcommand \comment[1]{\emph{#1}}		%  Comment revealed.
\newcommand \dateadded[1]{\comment{[Date added: #1.]}}
\newcommand \mylabel[1]{\label{#1}\comment{{\rm \{#1\} }}}
\newcommand \myref[1]{\ref{#1}\comment{{\{#1\}}}}

\newtheorem{lem}{Lemma}
\newtheorem{cor}[lem]{Corollary}
\newtheorem{prop}[lem]{Proposition}
\newtheorem{thm}[lem]{Theorem}
\newtheorem{definition}[lem]{Definition}


\theoremstyle{remark}
\newtheorem{exam}{Example}%[section]
\newcommand \myexam[1]{\smallskip\begin{exam}[\emph{#1}]}

\renewcommand{\phi}{\varphi}
\newcommand\eset{\varnothing}
\newcommand\inv{^{-1}}
\newcommand\setm{\setminus}
\newcommand\chiz{\chi^\bbZ}
\newcommand\bbR{\mathbb{R}}
\newcommand\bbZ{\mathbb{Z}}
\newcommand\cH{\mathcal{H}}


\newcommand\Ueloop{\ensuremath{U^e_{0}}}
\newcommand\Uecoloop{\ensuremath{U^e_{1}}}
\newcommand\Uefdyad{\ensuremath{U^{ef}_{1}}}
\newcommand\Uefgtriad{\ensuremath{U^{efg}_{1}}}
\newcommand\Uefgtriangle{\ensuremath{U^{efg}_{2}}}

%   Disjoint Union
%\newcommand{\dunion}{\uplus}
\newcommand{\dunion}
%{\mbox{\hbox{\hskip4pt$\cdot$\hskip-4.62pt$\cup$\hskip2pt}}}
{\mbox{\hbox{\hskip6pt$\cdot$\hskip-5.50pt$\cup$\hskip2pt}}}
%
% Dot inside a cup.
% If there is a better, more Latex like way 
% (more invariant under font size changes) way,
% I'd like to know.


\newcommand{\Bases}[1]{\ensuremath{{\mathcal{B}}(#1)}}
\newcommand{\Reals}{\ensuremath{\mathbb{R}}}
\newcommand{\FieldK}{\ensuremath{K}}
\newcommand{\Perms}{\ensuremath{\mathfrak{S}}}
\newcommand{\rank}{{\rho}}% {{\mbox{rank}}}
\newcommand{\Rank}{{\rho}}% {{\mbox{rank}}}
\newcommand{\Card}[1]{\ensuremath{{\left|#1\right|}}}
\newcommand{\ext}[1]{\ensuremath{\mathbf{#1}}}

% Set Complement
% command to mess with overline, bar or custom 
% alternatives for sequence or set complement
%
%\newcommand{\scomp}[1]{\ensuremath{\;\overline{#1}\;}}
%\newcommand{\scomp}[1]{\ensuremath{\bar{#1}}}
%\newcommand{\scomp}[1]{\ensuremath{\genfrac{}{}{}{}{}{#1}}}
\newcommand{\scomp}[1]{\ensuremath{\overline{#1}}}

\allowdisplaybreaks

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\title{Some Ported, Relative, or Set Pointed Parametrized Tutte Functions}

\author{Seth Chaiken}
\address{Computer Science Department\\
The University at Albany (SUNY)\\
Albany, NY 12222, U.S.A.}
\email{\tt sdc@cs.albany.edu}



\begin{abstract}
Tutte decompositions with deletion and contraction not done of elements
in a fixed set of ports $P$, and the 
resulting polynomial expressions and functions
for matroids, oriented matroids, graphs and an abstraction of
labelled graphs are investigated.
We give conditions on parameters $x_e$, $y_e$, $X_e$, $Y_e$ for $e\not\in P$,
and on initial values $I(Q)$ for indecomposibles, that are necessary and 
sufficient for the following equations to have a well-defined solution:
$T(M)=X_e T(M/e)$ for coloops $e\not\in P$, 
$T(M)=Y_e T(M\setminus e)$ for loops $e\not\in P$, and
$T(M)=x_e T(M/e) + y_e T(M\setminus e)$ for other $e\not\in P$.   They
generalize similar conditions given by Bollob\'{a}s and Riordon, Zaslavsky,
and Ellis-Monaghan and Traldi for Tutte functions defined without the
$e\not\in P$ restriction.  We complete the generalization to matroids
given Diao and Hetyei which was motivated
by invariants for the virtual knots studied by Kauffman.  
Our motivations include electrical network analysis, oriented matroids,
and negative correlation of edge appearances in spanning trees. The $P$-ported
Tutte polynomials of oriented matroids express orientation information
that ordinary Tutte polynomials cannot.
The computation tree formalism of Gordon and McMahon gives
activities expansions for $P$-ported parametrized Tutte polynomials
more general than those
just determined by the linear element orderings
which originated in Tutte's dichromate.

The polynomials expressing conditions
for the above Tutte matroid equations to have a solution
all have one factor $I(Q_i)$.  Since the elements are 
labelled, the methodology also applies
to objects such as graphs with ports
for which similar ZBR theorems can be proven.  
We abstract graphs to objects that have 
ported Tutte functions
because they have matroids, but might
have different Tutte function values
on two objects with the same matroid.
Two new ZBR-type theorems are given
and are used to generalize the ZBR
theorem to graphs with port edges.
The abstraction is then used to
characterize ported Tutte functions
of an object combination, or a distinct
object, whose matroid or oriented 
matroid is a direct matroid or
oriented matroid sum.  
This extends with ports some 
known strong Tutte 
function and multiplicative 
Tutte function results.
\end{abstract}

\subjclass[2000]{...}



\keywords{Tutte function, Tutte polynomial}

\thanks{Version of \today.}

\maketitle
\pagestyle{headings}


%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}



In his 1971 paper \cite{BrylawskiPointed}
``A Combinatorial Model for Series-Parallel Networks,''
Thomas H. Brylawski
addressed
series/parallel graphs, matroids,
and series/parallel connections of matroids
from the Tutte polynomial point of view.
The rules for 
combining graphs or matroids in series or parallel,
and thus for generating series/parallel graphs and matroids,
refer to
a basepoint edge or element in each.
To study 
Tutte polynomials of series or parallel connections
and so help
characterize
series/parallel matroids as having 
Tutte invariant $\beta=1$,
Brylawski developed
a Tutte polynomial for ``pregeometries with basepoint $p_0$'' 
with the four variables $z$, $x$, $z'$ and $x'$.   
His polynomial satisfies
the well-known Tutte equations with deletion and contraction
allowed only for $e\neq p_0$.  
Our first motivation is to generalize this to $e\not\in P$
for a set $P$ of elements which we call \emph{ports}.


Brylawski developed this
polynomial from
a ``class of polynomials whose variables are pointed and
nonpointed pregeometries over the integers.''
Such variables, for matroids or oriented matroids
having only distinguished elements, are present
in our universal solution for 
Tutte equations with (1) Brylawsky's restriction extended
from one $p_0$ to many distinguished elements, and (2)
with parameters attached to the other elements.
(See Corollary \ref{UniversalCor} and \cite{sdcPorted})
Additional references for this and the generalization
to specify more than one element to forbid from
being deleted or contracted
are given in 
sec. \ref{BackgroundSec}.

A ``port'' edge, ``two terminals with the restriction
that the terminal currents have the same magnitude but
opposite sign''\cite{CRCHandbookPorts}, as termed 
in the circuit theory 
used by electrical engineers,
is also crucial for analyzing and generalizing the
electrical resistance of a network.
Brylawsky's
1977 work on ``A Determinantal Identity for Resistive Networks''
\cite{BryDetIdResistive} helped underpin this and
our earlier work (see for example \cite{sdcOMP} in addition to
\cite{sdcPorted} and \cite{TutteEx}) where one port is
generalized to many.  Kirchhoff first showed, 
essentially, that network resistance is 
the ratio of two parametrized spanning tree enumerating
Tutte polynomials, one for the network with the port
deleted and the other for the nework with the port contracted.
Besides network resistance, other
useful generalizations of Tutte polynomial
theory defined by attaching parameters 
to elements are 
known\cite{Ellis-Monaghan-Traldi,Ellis-Monaghan-Merino-2}.

This paper explores the combination
of parametrization with the restriction
of the Tutte equations
so deletion and contraction are done
only of elements not in a fixed subset $P$;
see \eqref{TA} and \eqref{TSSM} below.
Those
equations reduce to the well-known identities for the 
two-variable Tutte polynomial
when the parameters are $x_e=y_e=1$, $X_e=x$ and $Y_e=y$ for all $e$ and 
the set $P=\emptyset$.
Effectively, we study the effects of distinguishing
certain elements, those in $P$, so they are never deleted or 
contracted in the course of Tutte decompositions
that carry the $x_e$, $y_e$, $X_e$, $Y_e$ parameters
into the resulting polynomials.

Our work is largely based 
on \cite{Ellis-Monaghan-Traldi}, which
addresses parametrization in detail and which unifies the main 
results of Zaslavsky \cite{MR93a:05047} and 
Bollob\'{a}s and Riordan \cite{BollobasRiordanTuttePolyColored}.
Diao and Hetyei \cite{RelTuttePoly} characterize some 
parametrized Tutte functions defined with the
same restriction we do, and give a natural
application to virtual knot invariants \cite{KauffmanVirtualKnots}.
This led us to complete the generalization to all
separator-strong parametrized Tutte functions.

We call $P$ the
\emph{set of ports}.  The resulting Tutte polynomials or functions
have been called \emph{set-pointed} \cite{SetPointedLV,SetPointedLV1}, 
\emph{ported} \cite{sdcPorted,TutteEx} and 
\emph{relative} \cite{RelTuttePoly}.  
We prefer the terms ``port'' and ``$P$-ported equations
or functions'' because of our applications
\cite{sdcOMP,TutteEx} and because 
the $P$ can be specified.

When parameters $x_e$ and $y_e$ are introduced into the 
additive Tutte equation, the route toward generalizations
of the Tutte polynomial becomes complicated.  The next subsection 
(\ref{Complications})
elaborates on the particular 
destination---\emph{separator-strong Tutte functions},
to which we add the port restrictions.
Here is the main definition with the
restriction for $P$:

\begin{definition}
Let $P$ be a set and $\mathcal{C}$ be a class of matroids or
oriented matroids closed under taking minors or oriented minors
by, for $e\not\in P$, deleting $e$ if $e$ is not a coloop or
contracting $e$ if $e$ is not a loop.
Such a $\mathcal{C}$ is called a $P$-family.  $\mathcal{C}$ is
given with four parameters in a commutative ring $R$,
$(x_e,y_e,X_e,Y_e)$, for each $e\not\in P$ that is an element
in some $M\in\mathcal{C}$.

A separator-strong $P$-ported Tutte function 
$T$ maps $\mathcal{C}$ to $R$ or to an $R$-module and satisfies 
conditions 
\eqref{TA} and \eqref{TSSM} below for all $M\in\mathcal{C}$ and
all $e$ in $M$.


\begin{equation}
\label{TA}
\tag{TA}
\begin{gathered}
T(M) = x_e T(M/e) + y_e T(M\setminus e) \\
\text{ if $e\not\in P$ and $e$ is a non-separator, 
       i.e., neither a loop nor a coloop.}
\end{gathered}
\end{equation}


\begin{equation}
\label{TSSM}
\tag{TSSM}
\begin{gathered}
\text{If } e\not\in P\text{ is a coloop in }M\text{ then }
T(M)=X_e T(M/e).\\
\text{If } e\not\in P\text{ is a loop in }M\text{ then }
T(M)=Y_e T(M\setminus e).
\end{gathered}
\end{equation}

The $M\in \mathcal{C}$ for which neither \eqref{TA} nor
\eqref{TSSM} apply are called \emph{indecomposibles} and
the \emph{$P$-quotients} in $\mathcal{C}$. The analogous
definitions are used for graphs, directed graphs,
and any other objects on which deletion and contraction are 
defined and act on matroids or oriented matroids associated
to the objects.

\end{definition}

Besides \eqref{TA}, classical Tutte polynomials and other 
so-called \emph{strong Tutte
functions} \cite{MR93a:05047} satisfy the multiplicative identity
\begin{equation}
\tag{TSM}
\label{TSM}
T(M_1\oplus M_2)=T(M_1)T(M_2).
\end{equation}
Different combinations of variations of Tutte equations determine
different kinds of Tutte functions.  For example, the additive 
identity \eqref{TA} alone (with $P=\emptyset$) characterizes
\emph{weak Tutte functions} \cite{MR93a:05047,ZaslavskyOct18}.

Evidently, \eqref{TA} and \eqref{TSSM} 
specify how $T(M)$ can be recursively calculated from
the initial values $T(Q)=I(Q)$ on indecomposibles $Q$.
The definition that $T$ is a function 
means that
all calculations of $T(M)$ for $M\in\mathcal{C}$
using \eqref{TA}, \eqref{TSSM} and the initial values
yield the same result.
A simple induction on $|E(M)|$,
the number of elements in $M$ that are not in $P$, 
shows that if a Tutte function
with specified values on the indecomposible matroids or oriented matriods
exists for the given $P$-family and parameters, then the function
is unique.  

Restricting Tutte decomposition operations to $e\not\in P$
gives some new information about oriented matroids and
oriented (i.e., directed) graphs.
The indecomposible matroids (or graphs) 
are minors of $M$ that have all their 
elements (or edges) in $P$.  We also call them
$P$-quotients.
If $M$ is an oriented
matroid, each indecomposible is an oriented
matroid because the oriented minor $M/A\setminus B$
is well-defined when $A,B$ partitions $E$.
Hence, when $P\neq \emptyset$, $P$-ported Tutte functions
can have different values on different orientations of the
same orientable matroid.  
Other Tutte functions with this same domain can be defined after
forgetting the orientations.
Many of our results will be stated for ``matroids or
oriented matroids'' because there are different indecomposibles
and Tutte functions depending on whether or 
not the matroids carry an orientation.  Analogous
statements apply to graphs versus directed graphs
and to any other objects with oriented matroids.

We presented in  \cite{TutteEx}
a new kind of strong Tutte-like function on $P$-ported oriented graphic
matroids (more generally, unimodular, i.e. regular oriented matroids)
whose values vary with the orientation.   
Each function value $F(G)$ is
in the exterior algebra over $R^{2p}$, where $R$ is
the reals extended by the $x_e, y_e$ 
and $|P|=p$.  The function
obeys an \emph{anti-commutative} variant of \eqref{TSM} below
with exterior multiplication $\wedge$.  
(When $P=\emptyset$, it reduces 
to the reduced Laplacian determinant in the
famous Matrix Tree Theorem \cite{HararyBook,sdcMTT}.)  
It is the first example we know
of
``the possibility of making use of a noncommutative generalization of the Tutte
polynomial at some point in the future.'' mentioned by Bollob\'{a}s and
Riordan in \cite{BollobasRiordanTuttePolyColored}.  We won't say
more beyond that (1) each of the $\binom{2p}{p}$
Pl\"{u}cker coodinates of $F(G)$ is a $P$-ported Tutte function
of the kind we cover here; and (2) that quadratic inequalities among
some of them express negative correlation between edges in spanning trees,
results also known as Rayleigh's inequality\cite{Raleighs}.

A second non-commutative possibility might be found in 
section \ref{DirectSec} where
we consider parametrized Tutte functions of graphs with ports.
Different indecomposible
graphs can have the same matroid\cite{Ellis-Monaghan-Traldi}.  
To explore the issues,
we define an abstraction 
called ``$P$-ported objects with matroids
or oriented matroids'' to which we generalize graph results.
The abstraction applies to situations where
an object represents an initial matroid, graph, etc. plus
a history of deletions and contractions.  
The key feature is that the Tutte decompositions, represented 
by trees, of an object are identical to the Tutte decompositions
of that object's matroid.
The initial values
on indecomposibles, 
used for a Tutte decomposition to determine a Tutte function value
$T(N)$,
might then depend on the order of the deletion and contraction
reductions
to obtain each indecomposible from $N$.  This helps us understand the
theory, but whether objects with minors that depend on reduction 
order have useful applications remains to be seen.

\subsection{Complications from Parametrization}
\label{Complications}
It is known that,  even when $P=\emptyset$,
\eqref{TA} fails to have a solution
$T$ except if certain algebraic relations are true 
about the parameters and
initial values.

For example, if $M=U_{1}^{ef}$ is  ${e,f}$ in parallel, then
applying \eqref{TA} for $e$ gives the polynomial
($U^e_0$, $U^e_1$ are the loop, coloop matroids on $\{e\}$, etc.)
\[x_e T(U_0^f) + y_e T(U_1^f)\]
 whence applying it for $f$ gives 
\[x_f T(U_0^e) + y_f T(U_1^e).\]  
Then, \eqref{TSSM} tells us $T(U_0^f)=Y_fI(\emptyset)$, 
$T(U_1^f)=X_fI(\emptyset)$, etc.
The above are different polynomials in the parameters and initial values.  
The equation that says they are equal is an example of a relation that 
is necessary for a solution to exist.  
When the Tutte identities are 
parametrized, it is important to carefully distinguish 
between a solution value $T(M)$, where a solution $T$ 
is a function  that
satisfies all the relevent identities, and a formal polynomial  that
results from using a subset of the identities to calculate
$T(M)$ for one $M$\cite{MR93a:05047}.  We will in 
sec. \ref{Activity} apply
\emph{Tutte computation trees} \cite{GordonMcMachonGreedoid} 
to express the activities expansions for all
such polynomials obtained by recursion, with any port set $P$.
We follow \cite{BollobasRiordanTuttePolyColored,Ellis-Monaghan-Traldi}
to say $T(M)$ is well-defined when the parameters are in 
ring $R$ and the initial values are in
$R$ or an $R$-module for which the polynomial expressions for $T(M)$ 
obtained by all the recursive applications of the relevant
Tutte equations are equal.
The conditions are conveniently expressed as generators 
for the ideal $I$ such that the universal Tutte function is into
a quotient ring or module modulo $I$.
See Corollary \ref{UniversalCor}.

\subsection{Summary}

Our generalization is the kind of Tutte function determined by 
\eqref{TA} and \eqref{TSSM}; the latter is the weakening of \eqref{TSM} 
so it applies only for cases where one of $M_1$ or $M_2$ is a 
\emph{separator}, that is, a loop or coloop.  
We generalize by adding the restriction on 
port elements.
The result, Theorem \ref{BigTheorem} (sec. \ref{ParamTutteSec}), is a 
a straightforward
generalization of Theorem \ref{ZBRmatroids}
below paraphrased from 
\cite{Ellis-Monaghan-Traldi}
about the existance and universal form for 
the family of Tutte functions characterized by \eqref{TA} and \eqref{TSSM}.
This family was subsequently
named \emph{separator-strong Tutte functions} by \cite{JoAndTom}
because it is wider than the strong Tutte functions characterized
by \eqref{TA} and \eqref{TSM}, which are the subject of 
\cite{MR93a:05047}.  We follow these authors' terminology when we extend the
family to matroids, oriented matroids and graphs with distinguished 
port elements, and then to ported objects 
representing  matroids or oriented matroids.
The conclusions for $P$-ported parametrized
strong Tutte functions easily follow from those for the separator-strong ones.
See \ref{StrongTheorem} in sec. \ref{DirectSec}.

We build upon \cite{Ellis-Monaghan-Traldi} which reconciles
the results of \cite{MR93a:05047} and 
\cite{BollobasRiordanTuttePolyColored} with a common generalization.  
It generalizes the fields and strong Tutte functions of \cite{MR93a:05047}
to the commutative rings and separator-strong Tutte functions of 
\cite{BollobasRiordanTuttePolyColored}, and the definedness on 
all matroids in \cite{BollobasRiordanTuttePolyColored} to definedness
on a minor-closed class in \cite{MR93a:05047}.  Further, neither the
matroid or graph Tutte functions need to be 
$0$ or $1$ on $\emptyset$.
A main result of \cite{Ellis-Monaghan-Traldi} is called the
Zaslavsky-Bollob\'{a}s-Riordan (ZBR) theorem for matroids:
\begin{thm}
%(The generalized Zaslavsky-Bollob\'{a}s-Riordan theorem for matroids) 
\label{ZBRmatroids}
Let R
be a commutative ring, let $\mathcal{C}$ be a minor-closed class of matroids 
defined on subsets of an $R$-parametrized class $U$, and let 
$\alpha\in R$. 
Then there is a parametrized Tutte polynomial on
$\mathcal{C}$
with $T(\emptyset)=\alpha$ if and only if the following identities are 
satisfied.
\begin{enumerate}
\item[a]
Whenever $e$ and $f$ are dyadic in $M\in\mathcal{C}$ 
(i.e., they constitute a two element circuit),
\[
\alpha\cdot(x_e Y_f + y_e X_f) = \alpha\cdot (x_f Y_e + y_f X_e ).
\]
\item[b]
Whenever $e$, $f$ and $g$ are triangular in $M\in\mathcal{C}$ 
(i.e. they constitute a three element circuit),
\[
\alpha\cdot  X_g\cdot (x_e Y_f + y_e x_f) = 
\alpha\cdot  X_g\cdot (Y_e x_f + x_e y_f ).
\]
\item[c]
Whenever $e$, $f$ and $g$ are triadic in $M\in\mathcal{C}$ 
(i.e. they constitute a three element cocircuit),
\[
\alpha\cdot Y_g\cdot  (x_e Y_f + y_e x_f) = 
\alpha\cdot Y_g \cdot (Y_e x_f + x_e y_g ).
\]
\end{enumerate}
\end{thm}

The terminology ``$R$-parametrized class $U$'' (of matroid elements)
was used in \cite{Ellis-Monaghan-Traldi} to emphasize that the parameters
$(x_e,y_e,X_e,Y_e)$ are attached to elements $e$, not equations.  
The assumption that $\mathcal{C}$ is minor-closed implies that the 
three conditions can be restricted to the pair or triple being the
only elements in $M$.  Our generalization, Theorem \ref{BigTheorem} 
(sec. \ref{ParamTutteSec})
is expressed that way.

The 
one indecomposible for the ZBR theorem is the empty matroid
$\emptyset$.   Loop or coloop matroids on $e$ are 
decomposible; the values of the Tutte function on them equal
respectively $Y_e T(\emptyset)$ and $X_e T(\emptyset)$.   


We first generalize to $P$-ported matroids and oriented matroids the 
Bollob\'{a}s-Riordan-Zaslavsky theorem as synthesized
by Ellis-Monaghan and Traldi in \cite{Ellis-Monaghan-Traldi}.  
Parameters are only attached to $e\not\in P$.

In our
generalization of Theorem \ref{ZBRmatroids}, it is easy to see that the 
indecomposibles are those matroids $Q_i$ in $\mathcal{C}$
whose ground set $S(Q_i)\subseteq P$.
When $P\neq\emptyset$,
instead of every monomial resulting from a Tutte decomposition
containing the factor $T(\emptyset)$, every monomial resulting 
from a Tutte decomposition of $M$ contains a factor $T(Q_i)$ where $Q_i$
is some minor of $M$ obtained by contracting or deleting every $e\not\in P$.
These 
\emph{initial} 
values must be given for those $Q_i$ in order
to define a particular Tutte function.  They generalize the
$\alpha=T(\emptyset)$ value.

Our generalization of the ZBR theorem 
first replaces $T(\emptyset)=\alpha$ in its three
equations with $I(Q_i)$.
It also adds two more equations pertaining to $M\in\mathcal{C}$
in which series and parallel pairs $\{e,f\}$, $e\not\in P$, $f\not\in P$
are connected to one or more elements of $P$.  Again, only
one $Q_i$ appears in each equation.  See Theorem \ref{BigTheorem}.
We let some Tutte functions take values in modules
to facilitate both defining universal Tutte functions with
quotient modules and
expressing formulas for Tutte functions of direct sums and
related combinations.

An interesting consequence is that no relationships are required
between $T(Q_i)$ and $T(Q_j)$ for different indecomposibles $Q_i$ and
$Q_j$ for the Tutte function to be well-defined.  This answers a 
question we raised in \cite{TutteEx}.

Second, we
extend to $P\ne \emptyset$ the activities Tutte polynomial
expressions and
corresponding interval partitions of the Boolean lattice
$2^{S(M)\setminus P}$.  Like the activities
expressions given by \cite{GordonMcMachonGreedoid}
for greedoid Tutte polynomials, the
expressions we present are not just those obtained when a fixed linear
ordering on the elements is used to determine for which element $e$ to
apply \eqref{TA} when two or more elements are eligible.
Each of our activities expressions is based on a formal (Tutte)
\emph{computation tree} as defined in \cite{GordonMcMachonGreedoid}.  

Third, UPDATE.UPDATE.UPDATE.UPDATE 
we describe the relationship between the relevant 
separator-strong Tutte function
values when a matroid is a direct sum.  It is more complicated than
the product formula $T(M^1\oplus M^2)T(\emptyset)$ $=$ $T(M^1)T(M^2)$
for matroids and related formulas for graphs \cite{Ellis-Monaghan-Traldi}
because a $P$-ported Tutte function value can involve more than one
indecomposible.  When the 
module that contains the universal Tutte polynomials is extended
to an algebra by defining direct sum and similar compositions of 
indecomposibles by the new algebra's multiplication $*$, the 
relationship can be expressed by $T(M^1\oplus M^2) = T(M^1)*T(M^2)$.
Families of objects with matroids, were deletion and contraction
is consistant with the matroids and restricted to $e\not\in P$,
are introduced to facilitate studying $P$-ported strong Tutte
functions of graphs. 

Finally, we specialize to graphs and so extend some of the graph
results of \cite{Ellis-Monaghan-Traldi}.  Additional hypotheses
are given for $P$-ported Tutte functions of graphs, including
those with labelled vertices, for characterizations like
Theorems \ref{ZBRmatroids} and \ref{BigTheorem} to be true.

\subsection{Background and Other Related Work}
\label{BackgroundSec}

Besides Brylawski's 
work,  another early appearance of Tutte decomposition
of a matroid or graph with a basepoint is \cite{SmithPatroids}.
Ellis-Monaghan and Traldi \cite{Ellis-Monaghan-Traldi}
explain that by leaving the reduction
by $e_0$ to last so $e_0$ is always contracted as a coloop or deleted
as a loop, the Tutte function value can be expressed by
$T(M) = (rX_{e_o} + sY_{e_0})T(\emptyset)$ were $r, s$ are 
not-necessarilly-unique elements in $R$.  As one application,
they 
give a formula for the parametrized Tutte polynomial
for the parallel connection across $e_0$
which generalized Brylawski's.
These $r,s$ appear in
the $P$-ported Tutte function expression 
$rT(U^{e_0}_1)$ $+$ $sT(U^{e_0}_0)$ when $P=\{e_0\}$.  They
are parametrized generalizations of the coefficients of
$z'$ and $x'$ in Brylawski's four variable Tutte polynomial.

Las Vergnas defined and gave basic properties of ``set-pointed'' Tutte
polynomials (with no parameters) and used them to study matroid perspectives.
The polynomial given in \cite{MR0419272,SetPointedLV} has a variable
$\xi_l$ for each subset in a collection of $k$ subsets
$P_l\subseteq P$, $l=1,\ldots,k$.  Each term in \eqref{PAE} had
$\prod\xi_l^{r_i(P_l)}$ for $[Q_i]$ where $r_i$ is the rank function 
of matroid $Q_i$.  Therefore \eqref{TSM} was satisfied and the association of the
term to (non-oriented) $Q_i$ could be assured by taking all
$2^{|P|}$ subsets for the $P_l$.  The matroid perspective is the 
strong map $M\setminus E(M)\rightarrow M/E(M)$ given by the identity on
$P$.  

In \cite{sdcPorted}, we
reproduced Las Vergnes' theory with explicit $P$-quotient (matroid)
variables (see the $[Q_i]$ symbols in Corollary \ref{UniversalCor}
in sec. \ref{UniversalSec}) in place of 
$\prod\xi_l^{r_i(P_l)}$.  We then
gave formulas for the $P$-ported Tutte polynomial for the
union and its dual of matroids whose common elements are in $P$.
These formulas  work in a way similar to what appears in
sec. \ref{UniversalSec}.
We extend to algebras
the $\mathbb{Z}[u,w]$-module
generated by the $[Q_i]$ by defining multiplications 
$\tilde{*}$ with the rules
$[Q_i]\tilde{*}[Q_j]=r_{ij}[Q_{i,j}]$, with $r_{i,j}\in\mathbb{Z}[u,w]$ and
$Q_{i,j}=Q_i*Q_j$ depending on $(Q_i,Q_j)$ and whether $*$ represents 
union or its dual.  It is not often recognized that series and parallel
connection of matroids across basepoint $p$ 
is equivalent to matroid union and its dual on matroids with only
element $p$ in common.  We plan to investigate whether the formulas
for parametrized Tutte polynomials of parallel connections
in \cite{Ellis-Monaghan-Traldi} can be generalized to the dual
of union when $|P|>1$, and to detail the relationship when $|P|=1$.



Recent work on a different generalization, weak Tutte functions
(see sec. \ref{Complications}), has been done by 
Ellis-Monaghan and Zaslavsky \cite{ZaslavskyOct18}.
The distinction between weak Tutte functions (satisfying
an additive identity only)
and strong Tutte functions
(which satisfy \eqref{TSM} and \eqref{TA}) seems first to
have been made by Zaslavsky\cite{MR93a:05047}, for matroids.
That paper also defined weak and strong Tutte functions of
graphs.  However, we use using Ellis-Monaghan and Traldi's
definition of strong Tutte functions of 
graphs\cite{Ellis-Monaghan-Traldi}.
The latter restricts \eqref{TA} to non-separators (not just 
non-loops);  and it 
requires $T(G^1)T(G^2)=T(G)$ whenever 
matroids $M(G^1)\oplus M(G_2)=M(G)$ 
(which we sometimes interpret as oriented), not just when
$G$ is the disjoint union of $G^1$ and $G^2$.
The term separator-strong 
(I learned\cite{JoAndTom} 
after \cite{Ellis-Monaghan-Traldi} appeared.)
is used for Tutte functions of matroids and graphs 
as defined in \cite{Ellis-Monaghan-Traldi}; recall that
they satisfy \eqref{TA} and \eqref{TSSM}.
Normal is used in the same way as in\cite{MR93a:05047}.
We will repeat and extend these definitions with
little further attribution.

We introduced $P$-ported parametrized Tutte polynomial 
for \emph{normal} strong Tutte functions
in \cite{TutteEx}, i.e., 
those with
corank-nullity polynomial expressions.
Most of the results in the current paper, when so restricted
appeared in \cite{TutteEx}
or can be derived by adding parameters and oriented matriod considerations
to material in \cite{sdcPorted}.  
These include computation tree\cite{GordonMcMachonGreedoid} based activities 
expansions 
with terms corresponding to $P$-subbases (which are called
``contracting sets'' in \cite{RelTuttePoly}).
%The one non-elementary fact about
%oriented matroids needed is that two subsets $B,B'\in E(M)$ that span
%the same flat define the same $\emph{oriented}$ minor
%$M/B|P=M/B'|P$.  See \cite{OMBOOK}.  
In the normal case, the initial values can be assigned arbitrarilly.
We used this to show the our extensor-valued Tutte-like function 
\cite{sdcPorted} is expressible
by assigning extensors as the initial values.  In this
electrical network application, the indecomposibles are oriented 
graphic matroids
and different values \emph{are} assigned to different orientations of
the same matroid.  

We had left open questions about
when non-normal $P$-ported parametrized Tutte
functions are well-defined.  They are 
whether arbitrary
values can be assigned to the indecomposibles and what is
the appropriate generalization of
conditions on the parameters given by Zaslavsky \cite{MR93a:05047},
Bollob\'{a}s and Riordan \cite{BollobasRiordanTuttePolyColored} and 
Ellis-Monaghan and Traldi \cite{Ellis-Monaghan-Traldi}.
Theorem \ref{BigTheorem} resolves these questions:  The new conditions 
are obvious revisions of those for $P=\emptyset$.  The indecomposibles
can be assigned arbitrarilly so long as for each one separately,
the conditions of Theorem \ref{BigTheorem} are satisfied.  In addition,
if the function is to be strong, Theorem \ref{StrongTheorem}
tells us that it is sufficient for the assignment to
indecomposibles be strong.


Diao and Hetyei gave conditions on the parameters, similar to ours, for the
Tutte polynomial to be well-defined for every assignment of
values on the indecomposibles that obeys a symmetry condition.
That condition is motivated by the graph specialization.  
They gave the very natural application to invariants of 
virtual knots calculated
from their diagrams.
Port edges, which they call 
\emph{zero edges}, correspond to the 
virtual crossings, and the sign parameters of the other 
$\pm 1$ edges derive from left-over or right-over
sense of the regular crossings.  Their preprint in fact motivated
us to pursue the current topic\cite{RelTuttePoly}.  This topic
leads us to ask if the $P$-ported objects with matroids abstraction, 
and its related Tutte computation tree expansions for parametrized
Tutte functions (sec. \ref{DirectSec}), can be usefully
applied to objects besides graphs or directed graphs, such
as various kinds of knot diagrams.

Another open project is to classify the solutions to
the conditions of Theorem \ref{BigTheorem} (about separator-strong
$P$-ported Tutte functions) and 
Theorem  \ref{StrongTheorem} (about the strong ones) for rings and
for fields along the lines of 
\cite{MR93a:05047} and \cite{BollobasRiordanTuttePolyColored}.


\section{Preliminaries}

For a matroid or oriented matroid $M$, the
ground set of \emph{elements} is denoted by $S(M)$ and the rank function 
is denoted by $r$.  Given
\emph{port} set $P$, $S(M)\setminus P=\{e\in S(M) \mid e\not\in P\}$ 
is denoted by $E(M)$.  
A matroid, oriented matroid or other object with elements
given with a set of ports $P$ is be called
\emph{$P$-ported.}  In graphs and directed graphs, the elements 
are the edges.  Graphic matroids or oriented matroids always
refer to the circuit matroids.  Graph connectivity refers to
path connectivity whereas connectivity in the graphic matroid
refers to 2-edge-connectivity of the graph.

A $P$-\emph{family} is a collection $\mathcal{C}$ 
of matroids or oriented matroids such that
given $M\in \mathcal{C}$ and $e\in E(M)$, 
the contraction $M/e\in\mathcal{C}$ if $e$ is not a loop in
$M$ and the deletion $M\setminus e\in\mathcal{C}$ if 
$e$ is  not a coloop in $M$.  
The set of non-port elements 
is $E(\mathcal{C})=\{e\mid e\in E(M)$ for some $M\in\mathcal{C}\}$.
It is straightforward to extend these definitions to families of
objects, such as graphs, where each member object has an associated matroid
on appropriate elements of the object, such as edges, and those elements
can be deleted and/or contracted consistantly with the matroid.


The $P$-minors of $M$ are
obtained
by deleting or contracting zero or more non-port elements.
Thus, a $P$-family is 
a $P$-minor closed collection of matroids or oriented matroids.
The $P$-minors $Q_i$ for which $S(Q_i)\subseteq P$,
i.e., those with no non-port elements, are called the $P$-quotients
of $M$.  We say a $P$-quotient belongs to $\mathcal{C}$ if it is a
$P$-quotient of some $M\in\mathcal{C}$.  Note that if $P$ is finite,
(and the objects are just matroids or oriented matroids)
there are only a finite number of $P$-quotients because there are 
only a finite number of matroids or oriented matroids over subsets
of $P$.

As usual, a \emph{separator} is an element that is a loop,  or is
a coloop, i.e., an isthmus in a graph.


Let $R$ be a commutative ring.
We sometimes assume that a $P$-family $\mathcal{C}$ comes equipped
with four parameters $x_e,y_e,X_e,Y_e\in R$ for each 
$e\in E(\mathcal{C})$ and for each $P$-quotient $Q\in\mathcal{C}$,
one initial value $I(Q)$ either in $R$ 
or in an $R$-module.  (One can consider $R$ to be
the $R$-module generated by itself.)
Note that whether or
not the empty matroid $\emptyset$ is a $P$-quotient depends on
$\mathcal{C}$.  If $M\in\mathcal{C}$ with
$S(M)\cap P=\emptyset$ then $\emptyset$ certainly is a $P$-quotient.
In that case, \eqref{TSSM} specifies that $T(M) = X_e I(\emptyset)$
or $T(M) =Y_e I(\emptyset)$ if $e\not\in P$ is a separator.
Therefore,
we consider the $X_e$ and $Y_e$ to be parameters
because $X_e$ and $Y_e$ are values of the Tutte function
only if $\emptyset\in \mathcal{C}$ and $I(\emptyset)=1$.
The Tutte equations \eqref{TA} and \eqref{TSSM}
justify calling the $P$-quotients indecomposibles.

The uniform matroid with elements $\{e, f, \cdots \}$ and rank $r$ is denoted
by $U^{ef\cdots}_r$.

In the remainder, we consider only elements $e, f, g$ none of 
which are in $P$.

Two distinct elements $e,f$ in matroid $M$
are \emph{parallel} when
every cocircuit that contains one of them also contains the other.  This
is equivalent to $\{e, f\}$ being a two-element circuit.
They are \emph{series} when every circuit that contains one of them
also contains the other.  This is equivalent to $\{e, f\}$ being a two-element
cocircuit.
They are called a \emph{dyad} when 
they are both parallel and series.  Note that every 
dyad is a matroid connected
component of $M$.

Two distinct elements $\{e,f\}$  are a \emph{parallel pair connected
to $P$} when they are parallel and there is a cocircuit of the form
$\{e,f\}\cup P'$ with $\emptyset\neq P'\subseteq P$.

Two distinct elements $e,f$ are a \emph{series pair connected
to $P$} when they are series and there is a circuit of the form
$\{e,f\}\cup P'$ with $\emptyset\neq P'\subseteq P$.

Three distinct elements $e,f,g$ are called a \emph{triangle}
when they comprise a 3 element circuit $U_2^{efg}$ that is a 
connected component of $M$.

Three distinct elements $e,f,g$ are called a \emph{triad}
when they comprise a 3 element cocircuit $U_1^{ef}$ that is a 
connected component of $M$.

The following is critical to the proof that the generalizations
of identities in Theorem \ref{ZBRmatroids} all have the form
$I(Q_i)\cdot r=0$ where $r$ is a polynomial in the $x_e,y_e,X_e,Y_e$
parameters and $Q_i$ is one $P$-quotient.

\begin{prop}
\label{SameMinorProp}
Suppose $e,f$ are in series, or are in parallel, in matroid or
oriented matroid $M$.
\begin{enumerate}
\item The minors $M/e\setminus f=M/f\setminus e$
are equal as matroids.
\item If $M$ is oriented, the oriented minors 
$M/e\setminus f=M/f\setminus e$ are equal as oriented matroids.
\end{enumerate}
\end{prop}

\begin{proof}
In the following, take all matroids as oriented or not
depending on how $M$ is given.

If $e,f$ are in series, note that $M/e\setminus f$ $=$
$M\setminus f/e$.  $e$ is a coloop in $M\setminus f$,
so $M\setminus f/e$ $=$ $M\setminus\{e,f\}$, which is
clearly the same matroid or oriented matroid if $e,f$
are interchanged.  The relevant theory of minors of oriented matroids
can be found in \cite{OMBOOK}.

If $e,f$ are in parallel, $e,f$ are in series in 
the matroid or oriented matroid dual $M^*$ of $M$.
By the first case, $M^*\setminus e/ f$ $=$
$M^*\setminus f/e$ as matroids or as oriented matroids.
Thus $M/e\setminus f$ $=$ $(M^*\setminus e/ f)^*$ $=$
$(M^*\setminus f/ e)^*$ $=$ $M/f\setminus e$ as matroids or
as oriented matroids.
\end{proof}


\part{Tutte Functions and Expansions}

\section{Parametrized Ported Tutte Functions}
\label{ParamTutteSec}
Let $P$ be a set and $\mathcal{C}$ be a $P$-family of matroids or oriented
matroids.  We state, discuss and prove this
generalization of Theorem \ref{ZBRmatroids} of \cite{Ellis-Monaghan-Traldi}:

\begin{thm}
\label{BigTheorem}
The following two statements are equivalent.
\begin{enumerate}
\item $T$ from $\mathcal{C}$ to $R$ or an $R$-module is a $P$-ported 
separator-strong parametrized
Tutte function with $R$-parameters $(x, y, X, Y)$ whose values 
$T(Q_i)$ on $P$-quotients $Q_i\in\mathcal{C}$ are the initial
values $I(Q_i)$.
\item
\begin{enumerate}
\item For every $M=U^{ef}_1\oplus Q_j\in\mathcal{C}$ with 
$P$-quotient $Q_j$ ($U^{ef}_1$ is a dyad), 
\[
I(Q_j)(x_e Y_f + y_e X_f) = 
I(Q_j)(x_f Y_e + y_f X_e).
\]
\item
For every $M=U^{efg}_2\oplus Q_j\in\mathcal{C}$ with 
$P$-quotient $Q_j$ ($U^{efg}_2$ is a triangle), 
\[
I(Q_j)X_g(x_e y_f + y_e X_f) = 
I(Q_j)X_g(x_f y_e + y_f X_e).
\]
\item
For every $M=U^{efg}_1\oplus Q_j\in\mathcal{C}$ with 
$P$-quotient $Q_j$  ($U^{efg}_1$ is a triad), 
\[
I(Q_j)Y_g(x_e Y_f + y_e x_f) = 
I(Q_j)Y_g(x_f Y_e + y_f x_e).
\]
\item
If $\{e,f\}=E(M)$ is a parallel pair connected to $P$, 
\[
I(Q_j)(x_e Y_f + y_e x_f) = 
I(Q_j)(x_f Y_e + y_f x_e)
\]
where $P$-quotient $Q_j=M/e\setminus f=M/f\setminus e$.
\item
If $\{e,f\}=E(M)$ is a series pair connected to $P$, 
\[
I(Q_j)(x_e y_f + y_e X_f) = 
I(Q_j)(x_f y_e + y_f X_e)
\]
where $P$-quotient $Q_j=M/e\setminus f=M/f\setminus e$.
\end{enumerate}
\end{enumerate}
\end{thm}

\subsection{Remarks}
Proposition \ref{SameMinorProp} assures that the different 
expressions for $P$-quotients $Q_i$ in Theorem \ref{BigTheorem} 
are in fact equal as matroid or as oriented matroids, depending
on how $M$ was given.  

The first three cases are trivial extensions of 
the conditions in Theorem \ref{ZBRmatroids} \cite{Ellis-Monaghan-Traldi}.  
The only difference
is that our conditions have the factor $I(Q_j)$ 
in place of $\alpha=T(\emptyset)$.
Just two new conditions are required by $P\neq\emptyset$.  They
are vacuous when $P=\emptyset$.

Our proof is the immediate result of adding considerations of ports to the
proof in \cite{Ellis-Monaghan-Traldi}, there described
as ``a straightforward adaption of the proof of Theorem 3.3 of 
\cite{MR93a:05047}.''

As in 
\cite{Ellis-Monaghan-Traldi},
we rely on the hypothesis the $\mathcal{C}$ is closed under our
$P$-minors 
in order to verify
(1) that the conditions imply $T(M)$ is well-defined for $n=0, 1$ and $2$
and (2) that in a larger minimum $n$ counterexample, the elements of
$E(M)$ are either all in series or all in parallel, 
and then the conditions
imply that all calculation orders give the same result.  All the cases involve
two different combinations of deleting and contracting of several elements
in $E(M)$ where both combinations produce the same $P$-quotients.

The empty matroid
$\emptyset$ is clearly the only indecomposible for the
separator strong Tutte identities with $P=\emptyset$.  
Then $\emptyset\in\mathcal{C}$ is required,
provided $\mathcal{C}\neq \emptyset$.
When we generalize to the
$P$-ported separator strong Tutte identities
with $P\neq\emptyset$, the indecomposibles
depend on $\mathcal{C}$ and  $\emptyset\not\in\mathcal{C}$ is possible.  

\subsection{Proof}
We sketch the proof with a few details, pointing out differences from
\cite{Ellis-Monaghan-Traldi}.

As in \cite{Ellis-Monaghan-Traldi}, 
the necessary relations are easy to deduce by 
applying \eqref{TA} and \eqref{TSSM}
to the particular
matroids or oriented matroids of $\mathcal{C}$ to which they apply.
Now on to the converse.

Let $M\in\mathcal{C}$ be a counterexample with minimum $n=|E(M)|$,
noting that $n$ does not count $|P\cap S(M)|$.
Therefore, whenever $M'$ is a proper $P$-minor of $M$,
$T(M')$ is well-defined.  The Tutte conditions \eqref{TA} and \eqref{TSSM}
have the property that given $M$ and $e\in E(M)$, exactly one equation
applies.  Therefore, the induction hypothesis entails that
calculations that yield different values for $T(M)$ must start with
reducing by different elements of $E(M)$.  Since $T(M)$ is given 
unambiguously by the initial value $I(M)$ when $n=0$, we can assume
$n\geq 2$.

$M$ cannot contain a separator $e\in E(M)$.  This is a consequence of the
fact, applied to $P$-minors, that 
this $e$ is a separator in every minor of $M$ containing $e$.
Therefore, as observed in \cite{Ellis-Monaghan-Traldi}, every
computation has the same result $X_e T(M/e)$ or $Y_e T(M\setminus e)$ 
depending
on whether $e$ is a coloop or a loop.

Let $e$ be one element in $E(M)$.  Since no element in $E(M)$ is a 
separator, $V=x_{e} T(M/{e}) + y_{e} T(M\setminus {e})$ is well-defined, 
and so is $x_{e'} T(M/{e'}) + y_{e'} T(M\setminus {e'})$ 
for each other $e'\in E$.
We follow \cite{Ellis-Monaghan-Traldi} and define
$D=\{e'\in E(M) \mid V=x_{e'} T(M/{e'}) + y_{e'} T(M\setminus {e'})\}$.  The 
induction
hypothesis then tells us 
that there is at least 
one  $f\in E(M)\setminus D$.  
(Recall $e, e', f\not\in P$.)

Suppose that $e$ is a separator in both $M\setminus f$ and 
$M/f$ and $f$ is a separator in both 
$M\setminus e$ and $M/e$.  Then, 
$T$ would
be well-defined for all four of these $P$-minors and so
we can write 
\[
T(M)=x_e x_f T(M/\{e,f\}) + x_e y_f T(M/e\setminus f)
+ y_e x_f T(M\setminus e/f)
+ y_e y_f T(M\setminus\{e,f\}).
\]
Both computations give the same value because in this situation
the reductions by $e$ and $f$ commute.  
So, for $M$ to be a counterexample, there must be $e\in D$
and $f\not\in D$ ($e, f\not\in P$)
to which one case of the following lemma applies:


\begin{lem}
\cite{MR93a:05047}
Let $e , f$ be nonseparators in a matroid $M$. Within each column the
statements are equivalent:

\begin{minipage}{0.5\textwidth}
\begin{enumerate}
\item
$e$ is a separator in $M\setminus f$.
\item
$e$ is a coloop in $M\setminus f$.
\item
$e$ and $f$ are in series in $M$.
\item
$f$ is a separator in $M\setminus e$.
\end{enumerate}
\end{minipage}
\begin{minipage}{0.5\textwidth}
\begin{enumerate}
\item
$e$ is a separator in $M/ f$.
\item
$e$ is a loop in $M/ f$.
\item
$e$ and $f$ are in parallel in $M$.
\item
$f$  is a separator in $M/e$.
\end{enumerate}
\end{minipage}
\end{lem}

We claim that one of the following five cases must be satisfied:
\begin{enumerate}
\item 
$n=2$ and $E(M)=\{e,f\}$ is a dyad.
\item
$n\geq 3$ and $E(M)$ is a circuit not connected to $P$.
\item
$n\geq 3$ and $E(M)$ is a cocircut not connected to $P$.
\item
$n\geq 2$ and for some $\emptyset\neq P'\subseteq P$,
$P'\cup E(M)$ is a circuit.
\item
$n\geq 2$ and for some $\emptyset\neq P'\subseteq P$,
$P'\cup E(M)$ is a cocircuit.
\end{enumerate}



As in  \cite{Ellis-Monaghan-Traldi}, we draw the conclusion that
if $e\in D$ and $f\not\in D$ then $e, f$ are either series or parallel. 
It was further proven that a series pair and a parallel pair cannot
have exactly one element in common.  Therefore, the pairs $e,f$ satisfying 
the conditions are either all series pairs or all parallel pairs.  By 
minimality of $n$, $E(M)$ is either an $n$-element parallel class or an 
$n$-element series class.  The last two cases are distinguished from
the first three according to whether or not $E(M)$ is disconnected or not
from elements of $P$ in matroid $M$.  We now use \eqref{TA} and \eqref{TSSM}
to show that, in each case, the calculations that start with $e$ and 
those that start with $f$
have the same result, which contradicts $e\in D$ and $f\not\in D$.

We give the details for case 4.  By hypothesis, 
each of $T(M/e)$, $T(M\setminus e)$, $T(M/f)$, $T(M\setminus f)$,
$T(M/f/e)=T(M/e/f)$, $T(M/e\setminus f)$ and 
$T(M/f\setminus e)$ is well-defined.  Furthermore,
by Proposition \ref{SameMinorProp},
$M/e\setminus f$ $=$ 
$M/f\setminus e)$ as matroids or oriented matroids depending
on how $M$ was given.


Starting with $e$ and with $f$ give the two expressions:
\[
V=x_e x_f T(M/e/f) + x_e y_f T(M/e\setminus f) + y_e T(M\setminus e)
\]
\[
V\neq x_f x_e T(M/f/e) + x_f y_e T(M/f\setminus e) + y_f T(M\setminus f)
\]
Let $M'$ be the $P$-minor obtained by contracting each element
in $E(M)$ except for $e$ and $f$ ($M'=M$ if $n=2$.)
Since 
$E(M')=\{e,f\}$,
\eqref{TA} tells us that
\[
I(Q) (x_e y_f + y_e X_f) =
I(Q) (x_f y_e + y_f X_e),
\]
where $Q=M'/e \setminus f=M'/f \setminus e$.  The latter two
matroids or oriented matroids are equal because $e,f$ are in series
in $M'$ and so Proposition \ref{SameMinorProp} applies.
(When adapting this proof to Theorem \ref{ZBRWellBehaved}, 
$Q=N'/e\setminus f$ and $Q'=N'/f\setminus e$ might differ and
so might $I(Q)$ and $I(Q')$.  Revising the calculations is left to the
reader.)
Since $A=E(M)\setminus\{e,f\}$ is a set of coloops ($\emptyset$ if $n=2$)
in
$M/e\setminus f$ $=$ $M/f\setminus e$, we 
write $X_A=\prod_{a\in A}X_a$ ($1$ if $A=\emptyset$)
by $X_A$ and use \eqref{TSSM} to write
\[
T(M/e\setminus f) = X_A I(Q ).
\]
and
\[
T(M/f\setminus e) = X_A I(Q ).
\]
\[
T(M\setminus e) = Y_f X_A I(Q ).
\]
\[
T(M\setminus f) = Y_e X_A I(Q).
\]
So
\[
x_e y_f T(M/e\setminus f) + y_e T(M\setminus e)
=
x_f y_e T(M/f\setminus e) + y_f T(M\setminus f)
\]
which contradicts 
$V\neq x_f x_e T(M/\{f,e\}) + x_f y_e T(M/f\setminus e) + y_f T(M\setminus f)$.

The remaining cases can be completed analogously.  It might be
noted that our proof differs slightly from \cite{Ellis-Monaghan-Traldi}
in that the cases of $n=3$ and $n\ge 4$ are not distinguished.

\subsection{Universal Tutte Polynomial}
\label{UniversalSec}
It is easy to follow 
\cite{BollobasRiordanTuttePolyColored,Ellis-Monaghan-Traldi} to define
a universal, i.e., most general $P$-ported parametrized
Tutte function $T^{\mathcal{C}}$ for the $P$-minor closed class 
$\mathcal{C}$ given without parameters or initial values.  To do this,
we take indeterminates $x_e, y_e, X_e, Y_e$ for each $e\in E(\mathcal{C})$
and an indeterminate $[Q_i]$ for each $P$-quotient $Q_i\in\mathcal{C}$.
Let $\mathbb{Z}[x,y,X,Y]$ denote the integer polynomial ring generated by
the $x_e,y_e,X_e,Y_e$ indeterminates, define $\widetilde{\mathbb{Z}}$
to be the $\mathbb{Z}[x,y,X,Y]$-module generated by the $[Q_i]$.  
Let $I^{\mathcal{C}}$ denote the ideal of $\widetilde{\mathbb{Z}}$ 
generated by the identities of Theorem \ref{BigTheorem}, comprising 
for example $[Q_i](x_eY_f+y_eX_f-x_fY_e-y_fX_e)$ for each subcase of
case (a), etc.  The universal Tutte function has values in the
quotient module $\widetilde{\mathbb{Z}}/I^{\mathcal{C}}$.  Finally,
observe that the range of Tutte function $T$  can be considered to be the
$R$-module generated by the values $I(Q_i)$ where ring $R$ contains the
$x,y,X,Y$ parameters. If the $I(Q_i)\in R$, consider
the ring $R$ to be the $R$-module generated by $R$.
We follow \cite{Ellis-Monaghan-Traldi} to write
the corresponding consequence of Theorem \ref{BigTheorem}:

\begin{cor}
\label{UniversalCor}
Let $\mathcal{C}$ be a $P$-minor closed class of matroids or 
oriented matroids.  Then there is a 
$\widetilde{\mathbb{Z}}/I^{\mathcal{C}}$-valued function 
$T^{\mathcal{C}}$ on $\mathcal{C}$ with $T^{\mathcal{C}}(Q_i)=[Q_i]$ for each $P$-quotient
$Q_i\in\mathcal{C}$ that is a $P$-ported parametrized Tutte function
on $\mathcal{C}$ where the parameters are the 
$x, y, X, Y$ indeterminates.  Moreover, if $T$ is any $R$-parametrized
Tutte function with parameters $x'_e, y'_e, X'_e, Y'_e$, then $T$ is the
composition of $T^{\mathcal{C}}$ with the homomorphism determined by
$[Q_i]\rightarrow I(Q_i)=T(Q_i)$ for $P$-quotient and 
$x_e\rightarrow x'_e$, etc., for each $e\in E(\mathcal{C})$.
\end{cor}

In the next section we define particular expressions for $T^{\mathcal{C}}(M)$
which will be called Tutte polynomials.   Our purpose for
allowing Tutte function values and polynomials to be in
$R$-modules is that it facilitates giving formulas for 
Tutte functions of combinations such as direct sum in
terms of multiplication rules that make the module into algebra.


\section{Tutte Computation Trees and Activities}
\label{Activity}

Several authors \cite{Ellis-Monaghan-Merino-1,Ellis-Monaghan-Traldi}
surveyed the two ways that the 
two-variable Tutte polynomial can be defined:  It 
may be defined either as a universal solution to the
recursive strong Tutte equations, or as a generating function.
Further, two kinds of generating function definitions have been given.
The first is what Tutte originally used for graphs 
\cite{TutteDich,TutteGraphBook} and is
called the \emph{basis} or \emph{activities}
expansion. It enumerates each basis $B\subseteq E$ 
by a term $x^{i(B)}y^{e(B)}$, where the 
\emph{numbers of internally and externally active elements} 
$i(B)$ and $e(B)$ are determined from a given linear order
on the elements of $E$ (see Definition \ref{Activities-Ordered-Def}).
It was shown that even though $(i(B),e(B))$ for particular $B$
might vary with the order, the resulting polynomial is
independent of this order, and that it satisfies the Tutte equations.
The second, called the \emph{rank-nullity} generating function, 
is well-defined automatically
because it enumerates each subset $A\subseteq E$ with
the term $(x-1)^{(r(E)-r(A))}(y-1)^{(|A|-r(A))}$.  
This generating function is then shown to satisfy the Tutte equations.
Zaslavsky noted that the activities expansion remains universal when parameters
are included whereas the rank-nullity generating function expresses only the
proper subset of Tutte functions which he called normal\cite{MR93a:05047}.
They are characterized by \eqref{CNF}.
See sec. \ref{NormalSubSec}.

Ellis-Monaghan and 
Traldi \cite{Ellis-Monaghan-Traldi} remarked that the Tutte equation
approach appears to give a shorter proof of the ZBR theorem
than the activities expansion approach. Diao and Hetyei \cite{RelTuttePoly} 
proved specializations
of Theorem \ref{BigTheorem} by means of the activities expansion approach.
The inductive proofs on $|E|$ that we and \cite{Ellis-Monaghan-Traldi}
give demonstrate that every calculation of $T(M)$ from Tutte equations
produces the same result when the conditions on the parameters
and initial values are satisfied.  It it then almost a 
tautology that the polynomial expression
resulting from
a particular calculation will equal the Tutte function value in the
ring $R$.
We show that every recursive calculation (see below)
gives rise to an 
activities expansion, when the activities are defined in the
more general way given by McMahon and Gordon \cite{GordonMcMachonGreedoid}.
We suggest a heuristic reason why
the inductive Tutte equation approach is more succinct:
The induction assures that
\emph{every} computation for a matroid
with smaller $|E|$ gives the same result, not just those 
computations that are determined by linear orders on $E$.

To be precise, \emph{recursive}
means that the computation uses Tutte equations
to find $T(M)$ in terms of the initial values for
indecomposibles and/or of $M'$ with $|E(M')|<|E(M)|$
using recursive computations.  (Note the inductive
definition.)
All the recursive computations of $T(M)$ 
are expressible by ``computation trees,''
formally defined by McMahon and Gordon 
\cite{GordonMcMachonGreedoid}.
Their motivation was to generalize activities expansions and
the corresponding interval partitions of the subset lattice from
matroids to greedoids.  Unlike matroids, some greedoids
do not have an activities expansion for their Tutte polynomial
that derives from an element ordering.

Proofs of activities expansions for matroids, and their generalizations
for $P$-ported matroids, seem more informative and certainly
no harder when the expansions are derived from a general Tutte
computation tree, than when the expansions are only those
that result from an element order.   
From the retrospective that the Tutte equations
specify a non-deterministic recursive computation
\cite{Garey-Johnson}, it seems artificial to start with
element-ordered computations and then prove
first that all linear orders give the same result and 
second that it 
satisfies the Tutte equations, in order prove that 
all recursions give the same result.
We therefore
take advantage of the Tutte computation tree formalism
and the more general expansions it enables.


\subsection{Computation Tree Expansion}

We begin with the definition of what generalizes the matroid
bases in the activities expansion when $P\neq\emptyset$.  In the
following, $\mathcal{B}(M)$ denotes the set of bases in $M$.

\begin{definition}
Given $P$-ported matroid or oriented matroid $M$,
a \textbf{$P$-subbasis} $F\in \mathcal{B}_P(M)$
is an independent set  with $F\subseteq E(M)$
(so $F\cap P=\emptyset$) for which $F\dunion P$ is a spanning set
for $M$
(in other words, $F$ spans $M/P$).
\end{definition}

An equivalent definition was given in \cite{SetPointedLV}.
The following proposition shows our definition is equivalent to
that given in \cite{RelTuttePoly}.  $C$ and $D$ below are called 
``contracting and deleting sets'' in that paper.

\begin{prop}
$C$ is a $P$-subbasis if and only if
$C \subseteq E(\mathcal(M))$ has no circuits and 
$D=E(M)\setminus C$ has no cocircuits.
\end{prop}

\begin{proof}
$C$ has no circuits means $C$ is an independent set in 
$M$.
$D$ has no cocircuits means $D$ is independent in
the dual of $M$, i.e., $D$ is coindependent.  
$D$ is coindependent if and only if
$S(M)\setminus D=P\dunion C$ is spans
$M$.
\end{proof}


\begin{prop}
For every $P$-subbasis $F$ there exists an independent set $Q\subseteq P$
that extends $F$ to a basis $F\dunion Q\in \mathcal{B}(M)$.
Conversely, if $B\in\mathcal{B}(M)$ then $F=B\cap E=B\setminus P$
is a $P$-subbasis.
\end{prop}

\begin{proof} Immediate. \end{proof}


The next definition 
is also equivalent to one in \cite{RelTuttePoly}. It generalizes
Tutte's definitions based on element orderings \cite{TutteGraphBook,TutteDich} 
extended to
matroids \cite{CrapoAct}.  We will see that expansions based on 
computation trees generalize these further.

\begin{definition}[Activities with respect to a $P$-subbasis and an element
ordering $O$]
\label{Activities-Ordered-Def}
Let ordering $O$ have every $p\in P$ before every
$e\in E$.  Let $F$ be a $P$-subbasis.  Let $B$ be any basis for 
$M$ with $F\subseteq B$.
\begin{itemize}
\item Element $e\in F$
is internally active if $e$ is the least element
within its principal cocircuit with respect to $B$.  Thus, this principal
cocircuit contains no ports.  The reader can verify this definition is 
independent of the $B$ chosen to extend $F$.  Elements $e\in F$ that are
not internally active are called internally inactive.
\item Dually, element $e\in E$ with $e\not\in F$ is externally 
active if $e$ is the least element within its principal circuit with
respect to $B$.  Thus, each externally active element is spanned by 
$F$.  Elements $e\in E\setminus F$ that are not externally active
are called externally inactive.
\end{itemize}
\end{definition}

\begin{definition}[Computation Tree, following \cite{GordonMcMachonGreedoid}]
\label{CompTreeDef}
A $P$-ported (Tutte) computation tree for $M$ is a
binary tree whose root is labeled by $M$ and which satisfies:
\begin{enumerate}
\item If $M$ has non-separating elements not in $P$, then 
the root has two subtrees and there exists one such element $e$ for which 
one subtree is a computation tree
for $M/e$ and the other subtree is a computation tree for 
$M\setminus e$.

The branch to $M/e$ is labeled with ``$e$ contracted'' and 
the other branch is labeled ``$e$ deleted''.
\item Otherwise (i.e., every element in $E(M)$
is separating) the root is a leaf.
\end{enumerate}
\end{definition}

An immediate consequence is
\begin{prop}
Each leaf of a $P$-ported Tutte computation tree for $M$
is labeled by the direct sum of some $P$-quotient
(oriented if $M$ is oriented) 
summed with loop and/or coloop matroids with 
ground sets $\{e\}$ for various distinct $e\in E$ (possibly none).
\end{prop}

It sometimes helps to revise Definition \ref{CompTreeDef} to require
that every leaf be labelled with an indecomposible; and then allow
a single branch from $M$ to $M/e$ or to $M\setminus e$
labelled ``$e$ contracted as a coloop'' or ``$e$ deleted as a coloop'' 
depending on what kind of separator is $e\in E(M)$.  We leave
the corresponding revisions of further definitions to the reader.


\begin{definition}[Activities with respect to a leaf]
\label{ActivityTreeDef}
For a $P$-ported Tutte computation tree for $M$,
a given leaf, and the path from the root to this leaf:
\begin{itemize}
\item Each $e\in E(M)$ labeled ``contracted'' along this path
is called \textbf{internally passive}.
\item Each coloop $e\in E(M)$ in the leaf's matroid is
called \textbf{internally active}.
\item Each $e\in E(M)$ labeled ``deleted'' along this path
is called \textbf{externally passive}.
\item Each loop $e\in E(M)$ in the leaf's matroid is
called \textbf{externally active}.
\end{itemize}
\end{definition}

\begin{prop}
Given a leaf of a $P$-ported Tutte computation tree for $M$,
the set of internally active or internally passive elements 
constitutes a 
$P$-subbasis of $M$ which we say 
\textbf{belongs to the leaf}.  
Furthermore, every $P$-subbasis $F$ of $N$ belongs to a unique leaf.
\end{prop}

\begin{proof}
For the purpose of this proof, let us extend Definition \ref{ActivityTreeDef}
so that, given a computation tree with a given node $i$ 
labeled by matroid $M_i$,
$e\in E$ is called internally passive when $e$ is labeled 
``contracted'' along the path from root $M$ to
node $i$.  Let $IP_i$ denote the set of such internally passive 
elements.

It is easy to prove by induction on the length of the root to node $i$ path
that
(1) $IP_i\cup S(M_i)$ spans $M$ and 
(2) $IP_i$ is an independent set in $M$.  The proof
of (1) uses the fact that elements labeled deleted are non-separators.  The
proof of (2) uses the fact that for each non-separator 
$f\in M/IP_i$, $f\cup IP_i$ is independent in $M$.

These properties applied to a leaf demonstrate the first conclusion,
since each $e\in E$ in the leaf's matroid must be a separator by Definition 
\ref{CompTreeDef}.

Given a $P$-subbasis $F$, we can find the unique leaf with the
algorithm below.  Note that it also operates on arbitrary subsets of $E$.

\textbf{Tree Search Algorithm:} Beginning
at the root, descend the tree according to the rule: At each branch node,
descend along the edge labeled ``$e$-contracted'' if $e\in F$ and along
the edge labeled ``$e$-deleted'' otherwise (when $e\not\in F$).
\end{proof}

The above definitions and properties lead us to 
reproduce element order based activities:
\begin{prop}
Given element ordering $O$ in which every $p\in P$ is ordered
before each $e\not\in P$, suppose we construct the unique $P$-ported
computation tree $\mathcal{T}$ in which the greatest non-separator $e\in E$ is
deleted and contracted in the matroid at each tree node.

The activity of each $e\in E$ relative to ordering $O$ and
$P$-subbasis $F\subseteq E$ is the same as the activity
of $e$ defined with respect to the leaf 
belonging to $F$ in $\mathcal{T}$.
\end{prop}

\begin{definition}
\label{ActivitySymbolsDef}
Given a computation tree for 
$P$-ported (oriented) matroid $M$,
each $P$-subbasis $F\subseteq E$
is associated with the following subsets of non-port elements
defined according to Definition \ref{ActivityTreeDef}
from the unique leaf determined by the algorithm given above.
\begin{itemize}
\item $IA(F)\subseteq F$ denotes the set of internally active elements,
\item $IP(F)\subseteq F$ denotes the set of internally passive elements,
\item $EA(F)\subseteq E\setminus F$ 
denotes the set of externally active elements,
and 
\item $EP(F)\subseteq E\setminus F$ denotes the set of externally
passive elements.
\item $A(F)=IA(F)\cup EA(F)$ denotes the set of active elements.
\end{itemize}
\end{definition}

\begin{prop}
\label{PartitionProposition}
Given a $P$-ported Tutte computation tree for
$M$, 
the boolean lattice of subsets of $E=E(M)$
is partitioned by the collection of
intervals $[IP(F),F\cup EA(F)]$ (note $F\cup EA(F)=IP(F)\cup A(F)$)
determined from the collection
of $P$-subbases $F$, which correspond to the leaves.

The boolean lattice of subsets of $E=E(M)$
is also partitioned by the collection of
intervals $[EP(F),E\setminus F\cup IA(F)]$ 
(note $E\setminus F\cup IA(F)$ $=$ $EP(F)\cup A(F)$).

For a given $F\in\mathcal{B}_P(M)$, $A\subseteq E$ satisfies
$A\in [IP(F),F\cup EA(F)]$ if and only if 
$(E\setminus A)\in [EP(F),E\setminus F\cup IA(F)]$. 
\end{prop}

\begin{proof}
Every subset $A\subseteq E=E(M)\setminus P$ belongs to the
unique interval corresponding to the unique leaf found by the tree search 
algorithm given at the end of the previous proof.  

The dual of that tree search algorithm, which descends along
the edge labelled ``$e$-deleted'' if $e\in A'$, etc., will find the
unique leaf whose interval $[EP(F),E\setminus F\cup IA(F)]$ contains
$A'$.

When $A\in[IP(F),F\cup EA(F)]$, the dual algorithm applied to
$A'=E\setminus A$ will find the same leaf.
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

The following generalizes the activities expansion expression given
in \cite{MR93a:05047} to ported (oriented) matroids, as well as 
Theorem 8.1 of \cite{SetPointedLV}. 

\begin{prop}
\label{TuttePolyExpression}
Given parameters $x_e$, $y_e$, $X_e$, $Y_e$, and 
$P$-ported matroid or oriented matroid $M$
the Tutte polynomial expression
determined by the sets in Definition 
\ref{ActivitySymbolsDef} 
from a computation tree is 
given by
\begin{equation}
\tag{PAE}
\label{PAE}
\sum_{F\in \mathcal{B}_P}[M/F|P]
\;X_{IA(F)}\;x_{IP(F)}\;Y_{EA(F)}\;y_{EP(F)}.
\end{equation}
\end{prop}

\begin{proof}
\eqref{PAE} is an expression constructed by applying some of the
Tutte equations.  One monomial results from each leaf.
It that leaf's matroid,
each active element is a separator, and the active elements
contribute $X_{IA(F)}Y_{EA(F)}$ to the monomial.
The passive elements which contribute
$x_{IP(F)}y_{EP(F)}$
are the tree
edge labels in the path from the root to the leaf.
Each $M/F|P$ denotes a $P$-quotient of $M$, so the
expression is a polynomial in the parameters and in the
initial values.  
Therefore, \eqref{PAE} expressions the result of
the calculation when one substitutes
$[M/F|P]=I(M/F|P)$.
\end{proof}

From Corollary \ref{UniversalCor} we conclude:
\begin{thm}
\label{ActivitiesTheorem}
For every $P$-ported parametrized Tutte function $T$ 
on $\mathcal{C}$ into 
ring $R$ or an $R$-module,
for every computation tree for $M\in\mathcal{C}$
(and so for every ordering of $E(M)$), 
the polynomial expression \eqref{PAE} equals 
$T^{\mathcal{C}}(M)$ of Corollary \ref{UniversalCor}.
\end{thm}

\subsection{Expansions of Normal Tutte Functions}
\label{NormalSubSec}.

After a notational translation, 
Zaslavsky's \cite{MR93a:05047} definition of \emph{normal} Tutte 
functions becomes
those for which $T(\emptyset)=1$, and for which there exist
$u$, $v\in R$ so that for each $e\in E(M)$,

\begin{equation}
\tag{CNF}
\label{CNF}
X_e = x_e + uy_e \text{ and } Y_e = y_e + vx_e.
\end{equation}

Let us drop the $T(\emptyset)=1$ constraint and then
note that \eqref{CNF} applies immediately to $P$-ported Tutte functions.
(Unfortunately, we use 
$(x_e, y_e, X_eT(\emptyset), Y_eT(\emptyset))$ for Zaslavsky's
notations $(b_e, a_e, x_e, y_e)$.)  The normal Tutte functions
include the classical two variable Tutte polynomial.
Please observe that the equations of Theorem \ref{BigTheorem}
are satisfied by \eqref{CNF} independently of the
initial values.  Hence all the expressions for normal Tutte
functions will be in a ring freely generated by
$u$, $v$, the $x_e, y_e$ and the $[Q]$.  We will therefore
call them expansions for a Tutte polynomial.  This
Tutte polynomial is universal for $P$-ported separator-strong
normal parametrized Tutte functions of matroids or oriented matroids.
We can now generalize some known expansions.

\subsubsection{Boolean Interval Expansion}

\begin{cor}
\label{NormalActProp}
The following activities and boolean interval expansion formula
is universal for normal Tutte functions and
is obtained by substituting \eqref{CNF} 
into $T^{\mathcal{C}}(M)$.
\begin{equation}
T^{\mathcal{C}}(M)=
\sum_{F\in \mathcal{B}_P}[M/F|P]
%\left(
\Big(
\sum_{\substack{
       IP(F)\subseteq K \subseteq F\\
       EP(F)\subseteq L \subseteq E\setminus F
      }}
 x_{K\cup (E\setminus F\setminus L)}\;
 v^{\Card{E\setminus F\setminus L}}\;
 y_{L\cup (F\setminus K)}\;
 u^{\Card{F\setminus K}}\;\;
%\right)
\Big)
\end{equation}
\end{cor}

\begin{proof} After substituting \eqref{CNF} we get
\[
T^{\mathcal{C}}(M)=
\sum_{F\in \mathcal{B}_P}[M/F|P]
%\left(
\Big(
x_{IP(F)}\;\;
\prod_{e\in IA(F)}\left(x_e+y_eu\right)\;\;
y_{EP(F)}\;\;
\prod_{e\in EA(F)}\left(y_e+x_ev\right)
%\right)
\Big)
\]
and then, by Definition \ref{ActivitySymbolsDef}, 
$IP(F)\dunion IA(F) =F$ and 
$EP(F)\dunion EA(F)=E\setminus F$.
 \end{proof}


\begin{lem}
\label{KLAlemma}
Given $F\in\mathcal{B}_P$,
$IP(F)$ spans $EA(F)$.

The pairs $(K,L)$ for which 
       $IP(F)\subseteq K \subseteq F$ and 
       $EP(F)\subseteq L \subseteq E\setminus F$
are in a one-to-one correspondance
with the $A$ satisfying $IP(F)\subseteq A\subseteq F\dunion EA(F)$
given by $A=K\dunion (E\setminus F)\setminus L$.


For every such $A$, 
\begin{equation}
\Card{F\setminus K}=r(M)-r(M/F|P)-r(A)
\end{equation}
and
\begin{equation}
\Card{E\setminus F\setminus L} = \Card{A}-r(A).
\end{equation}
\end{lem}

\begin{proof}
By our definition of activities,
after all the elements of $IP(F)$ are contracted, all elements 
in $EA(F)$ are loops.
(Note none of these elements are ports.)

Let 
$A=K\dunion (E\setminus F)\setminus L$.
By our definition of activities,
$IP(F)\dunion IA(F)=F$, so $IP(F)\subseteq A$.
Similarly,  
$EP(F)\dunion EA(F)=E\setminus F$, so 
$A\cap(E\setminus F)\subseteq EA(F)$.
Hence $A=K\dunion (E\setminus F)\setminus L$.

Since $IP(F)$ spans $EA(F)$, $K\subseteq IP(F)$ spans
$EA(F)$.  Since $A\subseteq K\dunion EA(F)$, $K$ spans $A$.
$K\subseteq F$ is a $P$-subbasis, so $\Card{K}=r(K)=r(A)$
and $\Card{F}=r(F)$.  Therefore, $\Card{F\setminus K}=r(F)-r(A)$.

Since $F$ is a $P$-subbasis, $r(F\cup P)=r(M)$.
By definition of contraction, $r(M/F|P)=r(F\cup P) - r(F)$,
so $r(M/F|P)=r(M)-r(F)$.  We conclude 
$\Card{F\setminus K}=r(M)-r(M/F|P)-r(A)$.

$E\setminus F\setminus L = A\setminus K$, so
$\Card{E\setminus F\setminus L} = \Card{A}-\Card{K}$.
As above, $\Card{K}=r(A)$, so the last equation follows.
\end{proof}


\begin{cor}
\begin{equation}
\label{FIntervalExpansion}
T^{\mathcal{C}}(M)=
\sum_{F\in \mathcal{B}_P}[M/F|P]
%\left(
\Big(
\sum_{IP(F)\subseteq A \subseteq F\dunion EA(F)}
 x_{A}
 y_{E\setminus A}
 u^{r(M)-r(M/F|P)-r(A)}
 v^{\Card{A}-r(A)}
%\right)
\Big)
\end{equation}
\end{cor}

\begin{proof}
Apply Lemma \ref{KLAlemma} to the inner sum in
Proposition \ref{NormalActProp}.
\end{proof}

\subsubsection{Corank-nullity Expansion}


\begin{lem}
\label{FAMinorlemma}
Given $F\in\mathcal{B}_P(M)$, $(K,L)$ and $A=K\dunion E\setminus F\setminus L$
as in Lemma \ref{KLAlemma},
\[ M/F|P = M/A|P\]
(as matroids or oriented matroids).
\end{lem}
\begin{proof}
Writing the contractions and deletions explicitly, $M/F|P$ 
$=$ $M/F\setminus (E\setminus F)$.  By our definition of
activities, all the $e\not\in P$ in $M/IP(F)\setminus EP(F)$ are 
loops or coloops.  Hence, when all these elements are removed
from $M/IP(F)\setminus EP(F)$ whether by contraction or deletion, the
result is the same matroid or oriented matroid.  Since
$IP(F)\subseteq A\subseteq F$ and 
$EP(F)\subseteq (E\setminus A)\subseteq (E\setminus F)$, we 
can construct $M/F|P$ or $M/A|P$ by forming $M/IP(F)\setminus EP(F)$
first, contracting the remaining elements of $F$ or $A$,
and last deleting all the remaining $e\not\in P$.  
Therefore  $M/A|P$ $=$ $M/F|P$.
\end{proof}

\begin{thm}
\begin{equation}
\tag{PGF}
\label{PGF}
T^{\mathcal{C}}(M) = \sum_{A\subseteq E(M)}[M/A \mid P]x_A y_{E\setminus A}
u^{r(M)-r(M/A\mid P)-r(A)}
v^{|A|-r(A)}.
\end{equation}
\end{thm}

\begin{proof}
By Proposition \ref{PartitionProposition}, given any Tutte computation tree,
the lattice of subsets of $E(M)$ is partitioned
into intervals corresponding to $P$-subbases $\mathcal{B}_P$.  
However,  given $F\in\mathcal{B}_P$, for every $A$ satisfying
Lemma \ref{FAMinorlemma}, the $P$-quotient $M/F|P$ is equal to 
$M/A|P$ (as a matroid or oriented matroid).  Hence we can 
interchange the summations in \eqref{FIntervalExpansion} and write
\eqref{PGF}.
\end{proof}

\subsubsection{Geometric Lattice Flat Expansion}

We generalize another formula from \cite{sdcPorted}:

\begin{prop}
Let $N$ be an oriented or unoriented.
Let $R_P(M)$ be given by \eqref{PGF}.
In the formula below,
$F$ and $G$ range over the geometric lattice of flats contained
in $M$ restricted to $E$.
\begin{equation}
R_P(M)(u,v) = \sum_{Q_i} [Q_i]
      \sum_{\substack{F\leq E\\
                     [M/F|P]=[Q_i]
           }}
                   u^{r(M)-r(Q_i)-r(F)}
                   v^{-r(F)F}
                   \sum_{G\le F}
                   \mu(G,F)
                   \prod_{e\in G}
                    (y_e+x_ev)
\end{equation}
\end{prop}

\begin{proof}
It follows the steps for theorem 8 in \cite{sdcPorted}.
\end{proof}

\part{Objects, Graphs and Sums}


When $P=\emptyset$, the facts about separator-strong Tutte functions
of matroid direct sums easily follow from the formula
$T(M^1\oplus M^2)T(\emptyset)=T(M^1)T(M^2)$.  For example,
$T$ is strong if and only if $T(\emptyset)=T(\emptyset)^2$.
The theory of separator-strong Tutte functions of graphs covered
in \cite{Ellis-Monaghan-Traldi}  follows from the fact that any
minor closed family of graphs (see below) $\mathcal{G}$ is partitioned into
subfamilies $\mathcal{G}_k$, each with just one indecomposible,
$E_k$, the edgeless graph with $k$ unlabelled vertices, 
if $\mathcal{G}_k\neq\emptyset$.
Tutte function formulas for disjoint and one-point graph unions, 
and the conditions for strongness (defined $T(G^1)T(G^2)=T(G)$ if
matroids $M(G^1)\oplus M(G^2)=M(G)$) are then 
derived \cite{Ellis-Monaghan-Traldi}
in terms of the values $\alpha_k=I(E_k)$.  Life is simple because
matroid $M(E_k)=\emptyset$ for all $k$.

The corresponding facts become more complex when the definitions
are naturally extended to $P$-ported matroids and graphs
or to vertex labelled graphs.  As with
matroids, a $P$-ported graph $G$ has some of the edges in $P$ and the rest,
$E(G)$, satisfy $E(G)\cap P=\emptyset$.  Deletion, contraction,
$P$-minors, $P$-families and $P$-quotients (i.e., irreducibles)
are also defined as they are for $P$-ported matroids or oriented matroids.
As in \cite{Ellis-Monaghan-Traldi},
deletion of an isthmus (i.e., coloop in the matroid) and
contraction of a loop is forbidden.

The main difficulty is illustrated by the following example.
Let
$G$ be the circle graph of the five edges
ordered $(e,p,f,q,r)$ and take $P=\{p,q,r\}$.  
So, $e$ and $f$ are a series pair connected to $P$, but
the $P$-quotient graphs $Q_1=G/e\setminus f$ and 
$Q_2=G/f\setminus e$ are different graphs, even though they have 
the same matroid.  $Q_1$ is the path $qrp$ and $Q_2$ is the path $pqr$.
Function $T$ might satisfy \eqref{TA}
and \eqref{TSSM} even if $T(Q_1)=I(Q_1)\neq I(Q_2)=T(Q_2)$.
So, if this $G\in\mathcal{G}$, a necessary condition 
for $T$ to be a $P$-ported
(separator-strong, as always) Tutte function would be
\begin{equation}
I(Q_1)(x_ey_f - y_fX_e) = I(Q_2)(x_fy_e - y_eX_f).
\end{equation}
This equation does not have the form of 
those in the ZBR theorem for graphs \cite{Ellis-Monaghan-Traldi}
because the latter's equations, like the equations in
Theorem \ref{BigTheorem}, each has a single factor 
$I(Q_i)$ depending on one indecomposible.


The example relies on the elements of $P$ being labelled.
This leads us to formulate a extension of Tutte function theory
for vertex labelled graphs.  
When the outcome, Theorem \ref{ZBRWellBehaved} is applied to graphs as in 
\cite{Ellis-Monaghan-Traldi}, we get Corollary \ref{PZBRGraphCor2}
which demonstrates that the above example illustrates the
\emph{only} situation where the $P$-ported ZBR equations
of Theorem \ref{BigTheorem} must be modified.

The next example illustrates 
the same phenonemon as the first, in a smaller graph, when
the objects in $\mathcal{G}$ are graphs whose vertices are 
labelled by disjoint sets.  Again, two different graphs have the
same oriented matroid.

\input{c4p2Two.pdf_t}

The expressions from these two Tutte computation trees are
are 
\[
I(Q_1)x_ex_f+I(Q_2)x_ey_f+I(Q_3)y_eX_f
\]
and
\[
I(Q_1)x_ex_f+I(Q_3)x_fY_e+I(Q_2)y_fX_e=
I(Q_1)x_ex_f+I(Q_2)y_fX_e+I(Q_3)x_fY_e,
\]
which are equal if and only if
\begin{equation}
\label{BadZBRExampleEq}
I(Q_2)(y_fX_e - x_ey_f)=
I(Q_3)(y_eX_f - x_fY_e).
\end{equation}
$Q_2$ and $Q_3$ are isomorphic as edge-labelled graphs
but are different when the vertex
labels are present.

There are two  complications introduced
into $P$-families of matroids when $P\neq\emptyset$.
First, one matroid 
might have more than one $P$-quotient, i.e., indecomposible.
The most simple 
example is a dyad matroid composed of one port and one
non-port element; and its $P$-minors.
Therefore, minimal $P$-minor closed families might have 
more than one indecomposible.  Some will share
matroids or oriented matroids and others will not.
The second, which also occurs with the 
minor closed families of graphs \cite{Ellis-Monaghan-Traldi}
in the original $P=\emptyset$ form, is that
the family is partitioned into disjoint $P$-minor closed
subfamilies.  Each subclass has its own indecomposibles,
$E_k$ in the case of graphs.  Again, 
indecomposibles in different subclasses 
share matroids as do
the $E_k$ all of whose matroids are $\emptyset$.
When $P\neq 0$, the indecomposibles of different 
subclasses might or might not share matroids
or oriented matroids.

The ZBR theorem for graphs in \cite{Ellis-Monaghan-Traldi}
has conditions analogous to those in Theorem \ref{ZBRmatroids},
except the factor $\alpha$ is replaced by $\alpha_k=I(E_k)$
depending on the subfamily.  

$P$-ported matroids or oriented matroids can be combined 
by matroid direct sum $\oplus$.  Graphs can be combined
by disjoint union $\amalg$ or by a one-point union;
then each such combination $G$ of $G^1$ and $G^2$, if defined,
satisfies $M(G)=M(G^1)\oplus M(G^2)$.


We following definitions are the immediate extensions
of the corrsponding known definitions.


\begin{definition}
A \emph{strong} $P$-ported Tutte function $T$ on a $P$-family 
$\mathcal{C}$ of matroids
or oriented matroids satisfies $T(M^1)T(M^2)=T(M^1\oplus M^2)$
when $M^1, M^2$ and $M^1\oplus M^2$ are all in $\mathcal{C}$.
\end{definition}

Note that such a strong Tutte function is a separator-strong
Tutte function with $X_e=T(U^e_1)$ and
$Y_e=T(U^e_0)$ for all $e\in E(\mathcal{N})$.

We will give extensions of definitions of strong Tutte functions
and of multiplicative Tutte functions of graphs below when
we define $P$-families of objects with matroids or oriented 
matroids.

The remainder of the paper abstracts graphs to 
objects with matroids or oriented matroids to 
resolve the issues illustrated by the examples.
Proofs as in 
\cite{Ellis-Monaghan-Traldi}
are based on the one indecomposible matroid 
being $\emptyset$, and on
there being just one indecomposible graph (the edgeless
graph $E_k$ with $k$ vertices) all with the
same matroid $\emptyset$ in each minor
closed subclass of graphs.
Our abstraction and Tutte computation
trees seem to make it easier to generalize
these results.  They also lead to
new type of ZBR-theorem that pertains the
situation illustrated by equation \ref{BadZBRExampleEq}.

The object with matroid or oriented matroid abstraction
also helps generalize to $P\neq\emptyset$ known
results about Tutte functions of 
direct sums of matroids (chiefly
$T(M^1\oplus M^2)T(\emptyset)=T(M^1)T(M^2)$),
strong Tutte functions of matroids and 
graphs, and about Tutte functions
that are multiplicative for various combinations
of objects.

\section{Objects with Matroids or Oriented Matroids}

It is useful to think that a $P$-ported Tutte computation tree may have
objects $N$ for its node labels such as graphs.
Each object $N$ has an associated
a $P$-ported matroid or oriented matroid $M(N)$.
Elements are defined $S(N)=S(M(N))$, 
each $p\in S(N)\cap P$ is called a port, and
$E(N)=S(N)\setminus P$.  Loops, coloops and non-separators of $N$
are characterized by their status in $M(N)$.  So we
say $N$ is an \emph{object with a matroid or an oriented matroid}.
Often, but not always, $N$ will be some matroid or oriented
matroid representation.


Contraction $N/e$ and deletion $N\setminus e$ 
of object $N$ are defined when $e\in E(N)$, and
$e$ is not a coloop in $M(N)$ and 
$e$ is not a loop in $M(N)$, respectively.
Under those conditions, $M(N/e)=M(N)/e$ and 
$M(N\setminus e)=M(N)\setminus e$ (as matroids or
oriented matroids).
Thus $P$-minors are defined,
and an indecomposible or $P$-quotient
is a $P$-minor $Q$ for which $S(Q)=S(M(Q))\subseteq P$.

\begin{definition}
\label{OMOMdef}
An $P$-ported object $N$ with a matroid or oriented matroid 
is described above together with $M(N)$, $E(N)$, $S(N)$,
$P$-minors, etc.

We say a $P$-family of objects $\mathcal{N}$ is a $P$-minor closed class of 
objects with matroid or oriented matroids.
\end{definition}

Tutte computation trees are defined for such $N$.
The matroid $M(N)$ of course
constrains the structure of these trees.  
It is possible
(as when the edgeless graphs $G_k$ have different vertex sets but all
$M(G_k)=\emptyset$)
for different objects, 
even different indecomposibles, to have the same 
matroid or oriented matroid.  It also natually occurs 
that
$N/e\setminus f$ $\neq$ 
$N/f\setminus e$ (as objects) even though 
$M(N)/e\setminus f$ $=$ 
$M(N)/f\setminus e$.  The latter equation when 
$e,f$ are in parallel or in series (see Proposition
\ref{SameMinorProp}) is critical to the above ZBR theorems.
It is also conceivable that $N/e/f\neq N/f/e$ or
$N\setminus e\setminus f\neq N\setminus f\setminus e$.

Since every $P$-minor $N'$ of $N$ has matroid
or oriented matroid $M(N')$ the same as the corresponding
minor of $M(N)$, we observe:

\begin{lem}
\label{ObjectTreeValueLemma}
The Tutte computation trees for $M(N)$ are in a one-to-one
correspondance with the 
Tutte computations tree for $N$ 
where corresponding trees are isomorphic.  In each
isomorphism,
corresponding
branches have the same labels ``$e$-contracted'' or
``$e$-deleted'' with $e\in E(N)=E(M(N))$, and a node
labelled $N_i$ in the tree for $N$ corresponds to 
a node labelled $M(N_i)$ in the tree for $M(N)$.

Each computation tree value is given by
the activities expansion \eqref{PAE} reinterpreted for
objects.
\end{lem}


We can still talk about Tutte decompositions and a
Tutte computation tree for $N$ even  without 
a Tutte function.  If we are given values $I(Q_i)$
for the indecomposibles, each Tutte computation tree 
for $N$ yields a value in the $R$-module generated by
the $I(Q_i)$.
The Tutte decompositions, and the universal
Tutte polynomial (if it exists!)
of each $N\in \mathcal{N}$
are determined by $M(N)$ and the indecomposibles, i.e., $P$-quotients
$Q_i$ in $N$, which of course satisfy $Q_i \in \mathcal{N}$.
This generalizes Zaslavsky's discussion\cite{MR93a:05047}.

\begin{definition}[Separator-strong $P$-ported Tutte function on objects]

Function
$T$ on $\mathcal{N}$
is a $P$-ported separator-strong Tutte function
on $\mathcal{N}$ into 
the ring $R$ 
containing parameters $x_e, y_e, X_e, Y_e$,
or an $R$-module containing the initial values
$T(Q_i)=I(Q_i)$ for indecomposibles,
when 
for each $e\in E(N)$ for some $N\in\mathcal{N}$,
if $T(N)$ satisfies \eqref{TA} and \eqref{TSSM} for all $N\in\mathcal{N}$.
\end{definition}

Therefore:

\begin{prop}
$T$ is a $P$-ported separator-strong Tutte function
on $\mathcal{N}$ if and only if for each $N\in\mathcal{N}$,
all Tutte computation trees for $T(N)$ yield polynomial expressions
that are equal in the range ring or $R$-module.
\end{prop}

We develop our first ZBR-type theorem for $P$-ported objects
with matroids or oriented matroids.  It is the
generalization of the ZBR theorem for graphs as given
by Ellis-Monaghan and Traldi\cite{Ellis-Monaghan-Traldi}.  
It depends on a lemma similar to one of theirs.


\begin{lem}
\label{DisjSubclassLem}
Suppose $P$-family $\mathcal{N}$ is partitioned into
disjoint $P$-minor closed subfamilies $\{\mathcal{N}_{\pi}\}$.
Then $T$ is a Tutte function on $\mathcal{N}$ if and
only if $T$ restricted to $\mathcal{N}_{\pi}$ is
a Tutte function for each $\mathcal{N}_{\pi}$.
\end{lem}

\begin{thm}
\label{ZBRWildFamily}
Suppose $P$-family $\mathcal{N}$ is partitioned into
disjoint $P$-minor closed subfamilies $\{\mathcal{N}_{\pi}\}$,
and each initial value $I(Q_i)$ depends only on
the matroid or oriented matroid $M(Q_i)$ and on the
$\pi$ for which $Q_i\in\mathcal{N}_{\pi}$,

Then $T$ is a Tutte function with given parameters $(x,y,X,Y)$
and initial values $I(Q_i)$ if and only if it satisfies
the equations of Theorem \ref{BigTheorem}, interpreted
for families of objects with matroids or oriented matroids.
\end{thm}

\begin{proof}
As in \cite{Ellis-Monaghan-Traldi}, lemma
\ref{DisjSubclassLem} lets us prove the
theorem for each $\pi$ separately.


By Lemma \ref{ObjectTreeValueLemma}, $T$ is a 
$P$-ported Tutte function of family
of objects $\mathcal{N}_{\pi}$ if and only
if function $T'(M(N))=T(N)$ on the $P$-family of
the matroids or oriented matroids of
$N\in\mathcal{N}_{\pi}$ is a $P$-ported Tutte 
function, since by hypothesis 
$I'(M(Q_i))=I(Q_i)=I(M(Q_i))$ for corresponding
indecomposibles $Q_i\in\mathcal{N}_{\pi}$ and 
$M(Q_i)$ in the matroid or oriented matroid $P$-family.

The conclusion follows
from Theorem \ref{BigTheorem} applied to
this matroid or oriented matroid $P$-family.
\end{proof}


Ellis-Monaghan and Traldi's ZBR theorem for graphs 
refers to one initial value $\mathcal{\alpha}_k=I(E_k)$
for each non-empty subclass of graphs, with unlabelled vertices, that
have $k$ graph components.  One natural ported generalization
is to partition the $P$-ported graphs $G$
according to (1) how many
graph components $k$, (2) $P'=P\cap S(G)$ and (3)
$\nu:P'\rightarrow\{1,\ldots,k\}$, where $\nu{p}$ is which
component contains edge $p$.  Theorem
\ref{ZBRWildFamily} tells us:

\begin{cor}
\label{PZBRGraphCor1}

Let a $P$-minor closed collection $\mathcal{G}$ of graphs with unlabelled
vertices be partitioned into $\mathcal{G}_{k,P',\nu}$.  Suppose initial
values $I(G)=I_{k,P',\nu}(M(G))$ are given that depend only on the 
part and the matroid or oriented matroid of $G\in\mathcal{G}_{k,P',\nu}$.
Then there is $T$, $P$-ported separator-strong parametrized Tutte function
of graphs $\mathcal{G}$ satisfying $T(Q)=I(Q)=I_{k,P',\nu}(M(Q))$ whenever
$P$-quotient $Q\in\mathcal{G}_{k,P',\nu}$ if and only if the identities
of Theorem \ref{BigTheorem}, interpreted for graphs, are satisfied with 
the given $I(Q)$.
\end{cor}

The next ZBR-type theorem  addresses the problem 
illustrated by \eqref{BadZBRExampleEq} requires that
the $P$-family satisfy the following

\begin{definition}
Object $N\in\mathcal{N}$ is \emph{well-behaved} when
for every independent set $C\subseteq E(N)$ and
coindependent set $D\subseteq E(N)$ for which
$C\cap D=\emptyset$, each of the
$|C\dunion D|!$ orders 
of contracting $C$ and deleting $D$ produces the
same $P$-minor (which is an object) of $N$.

Specifically, let 
$C=\{c_1,\ldots,c_j\}$,
$D=\{d_{j+1},\ldots,d_k\}$
and $R_i(N')=N'/c_i$ if $1\le i \le j$
and $N'\setminus d_i$ if $j+1\le i \le k$.
The condition is 
$R_1\circ\cdots\circ R_k(N) = R_{\sigma_1}\circ\cdots\circ R_{\sigma_k}(N)$
for every permutation $\sigma$ of $\{1,\ldots,k\}$.

$\mathcal{N}$ is \emph{well-behaved} when 
each $N\in\mathcal{N}$ is well-behaved.

\end{definition}

By definition \ref{OMOMdef} 
all the minors are defined and
$M(R_1\circ\cdots\circ R_k(N)) = M(R_{\sigma_1}\circ\cdots\circ R_{\sigma_k}(N))$
independently of whether $N$ is well-behaved or not.
The point is that the objects themselves are the same.

We give two examples of well-behaved $P$-families.

\begin{definition}[Graphs with set-labelled vertices]
\label{GSLVDefinition}
The elements of such a graph $S(G)=E(G)\dunion(P\cap S(G))$ are edges.
The vertices are labelled with non-empty
finite sets so the two sets labelling distinct vertices in one
graph are disjoint.  Only non-loop edges $e\not\in P$
can be contracted; when an edge is contracted, its two endpoints
are replaced by one vertex whose label is the union of the 
labels of the two endpoints.  Only non-isthmus edges $e\not\in P$
can be deleted; deletion doesn't change labels.  The graph
has its graphic matroid if it is undirected and its
oriented graphic matroid if it is directed.
\end{definition}

A graph with set-labelled vertices is well-behaved because
the minor obtained  by contracting forest $C$
and deleting $D$ is determined by merging all the vertex labels
of each graph component of $C$ and deleting edges $C\cup D$.  Note
that the deletions do not affect the vertex labels.  Hence
the set labels are not affected by the order
of the operations.


\begin{definition}[Graphs with set-labelled components]
\label{GSLCDefinition}
The elements of such a graph $S(G)=E(G)\dunion(P\cap S(G))$ are edges.
The path-connected components are labelled by
non-empty finite sets so two components in the same
graph always have disjoint labels.  In other words,
the set labels of the components are a partition $\pi_V$
Only non-loop edges $e\not\in P$
can be contracted and only non-isthmus edges 
$e\not\in P$
can be deleted.
The component labels are unchanged by these minor operations.
Definition \ref{GSLVDefinition} specifies the
matroids or oriented matroids.
\end{definition}


A non-well-behaved $P$-family $\mathcal{C}!$
can be constructed from
any $P$-family of matroids $\mathcal{C}$ with
some $M\in\mathcal{C}$ with $|E(M)|\geq 2$.  
Each member of $\mathcal{C}!$ is formed from
some $M\in\mathcal{C}$ together with some
history of deletions and contractions that
can be applied to $M$.  Let $c_e$ and $d_e$ be symbols
for contracting and deleting $e\in E(\mathcal{C})$
respectively; a history $h$ is a string of
such symbols.  
Let $M|h$ be the $P$-minor obtained by 
performing history $h$ on $M$, assuming each step
is defined.  The objects of $\mathcal{C}!$
are all pairs $(M,h)$ for which 
$P$-minor $M|h\in\mathcal{C}$ is defined.
The matroid of $(M,h)$ is $M|h$, which
determines the element set, loops and coloops.
If $e\in E(M|h)$ is not
a loop, then define $(M,h)/e=(M,hc_e)$.
Similarly, if $e\in E(M|h)$ is not
a coloop, $(M,h)\setminus e=(M,hd_e)$.

The point of this example is that even if
the $P$-family is not well-behaved and so the
indecomposibles do carry information about their
history, Theorem \ref{ZBRWildFamily} tells 
us that the Tutte function
is still well defined if the initial values depend only
on the matroid, or the oriented matroid, of the 
indecomposible.


The examples forced us to recognize that
for $N$ an object with a matroid or oriented matroid $M(N)$
with
${e,f}\in E(N)$ in series or in parallel,  it might
happen that $N/e\setminus f\neq N/f\setminus e$ even though,
by Proposition \ref{SameMinorProp}, 
$M(N)/e\setminus f= M(N)/f\setminus e$.  Note that 
Proposition \ref{SameMinorProp} is about 
$\cdot/e\setminus f$ and 
$\cdot/f\setminus e$ which are not commutations
of the same two operations.

\begin{thm}[ZBR Theorem for well-behaved 
$P$-families of objects with matroids or
oriented matroids]
\label{ZBRWellBehaved}

Let $\mathcal{N}$ be a well-behaved 
$P$-family of objects with matroids or oriented
matroids.

The following two statements are equivalent.
\begin{enumerate}
\item $T$ from $\mathcal{N}$ to $R$ or an $R$-module is a $P$-ported 
separator-strong parametrized
$P$-ported Tutte function with $R$-parameters $(x, y, X, Y)$ whose values 
$T(Q_i)$ on $P$-quotients $Q_i\in\mathcal{N}$ are the initial
values $I(Q_i)$.
\item
For every $N\in\mathcal{N}$:
\begin{enumerate}
\item 
If $M(N)=U^{ef}_1\oplus M(Q_j)=U^{ef}_1\oplus M(Q_j')$ with 
$P$-quotients $Q_j=N/e\setminus f$ and $Q_j'=N/f\setminus e$,
\[
I(Q_j)(x_e Y_f - y_f X_e ) = 
I(Q_j')(x_f Y_e - y_e X_f).
\]
\item
If $M(N)=U^{efg}_2\oplus M(Q_j)=U^{efg}_2\oplus M(Q_j')$ with 
$P$-quotients $Q_j=N/e\setminus f/g$ 
and $Q_j'=N/f\setminus e/g$,
\[
I(Q_j)X_g(x_e y_f - y_f X_e ) = 
I(Q_j')X_g(x_f y_e - y_e X_f ).
\]
\item
If $M(N)=U^{efg}_1\oplus M(Q_j)=U^{efg}_1\oplus M(Q_j')$ with 
$P$-quotients $Q_j=N/e\setminus f\setminus g$  
and $Q_j'=N/f\setminus e\setminus g$,
\[
I(Q_j)Y_g(x_e Y_f - y_f x_e) = 
I(Q_j')Y_g(x_f Y_e - y_e x_f).
\]
\item
If $\{e,f\}=E(M(N))$ is a parallel pair connected to $P$, 
\[
I(Q_j)(x_e Y_f - y_f x_e) = 
I(Q_j')(x_f Y_e - y_e x_f)
\]
where $P$-quotients $Q_j=N/e\setminus f$
and $Q_j'=N/f\setminus e$.
\item
If $\{e,f\}=E(M(N))$ is a series pair connected to $P$, 
\[
I(Q_j)(x_e y_f - y_f X_e) = 
I(Q_j')(x_f y_e - y_e X_f)
\]
where $P$-quotients
$Q_j=N/e\setminus f$ 
and $Q_j'=N/f\setminus e$.
\end{enumerate}
\end{enumerate}
\end{thm}

\begin{proof}
the Tutte function value 
for each tree depends only on the tree structure and the
initial values.
The fact the $\mathcal{N}$ is well-behaved
allows us to conclude that ...

The rest is analogous to the proof we gave for Theorem \ref{BigTheorem}.
\end{proof}



\begin{cor}
\label{IVEqualSerParCor}
A $P$-family of objects with matroids satisfies a ZBR-type theorem
with the identities given in Theorem \ref{BigTheorem} if, 
in 
addition $\mathcal{N}$ being well-behaved,
the initial values $I$ satisfy
$I(N/e\setminus f)=T(N/f\setminus e)$ when $\{e,f\}=E(N)$ is a series
or parallel pair,
$I(N/e\setminus f/g)=I(N/f\setminus e/g$ when $\{e,f,g\}=E(N)$ is a 
triangle and 
$I(N/e\setminus f\setminus g)=I(N/f\setminus e\setminus g)$ 
when $\{e,f,g\}=E(N)$ 
is a triad.
\end{cor}


\begin{cor}
A $P$-family of objects with matroids satisfies a ZBR-type theorem
with the identities given in Theorem \ref{BigTheorem} if, in 
addition to $\mathcal{N}$ being well-behaved,
the object $P$-quotients 
$N/e\setminus f=N/f\setminus e$ when $\{e,f\}=E(N)$ is a series
or parallel pair,
$N/e\setminus f/g=N/f\setminus e/g$ when $\{e,f,g\}=E(N)$ is a 
triangle and 
$N/e\setminus f\setminus g=N/f\setminus e\setminus g$ when $\{e,f,g\}=E(N)$ 
is a triad.
\end{cor}

\begin{proof}
Clearly, if $N/e\setminus f=N/f\setminus e$ then 
$T(N/e\setminus f)=T(N/f\setminus e)$, etc.
\end{proof}

We conclude with second ported generalization of 
Ellis-Monaghan and Traldi's ZBR theorem for graphs,
besides Corollary \ref{PZBRGraphCor1}.

\begin{cor}
\label{PZBRGraphCor2}
Let $\mathcal{G}$ be a ported $P$-family of graphs with
unlabelled vertices, as in Corollary \ref{PZBRGraphCor1}.
Then there is $T$, $P$-ported separator-strong parametrized Tutte function
of graphs $\mathcal{G}$ satisfying $T(Q)=I(Q)$ 
for all $P$-quotients $Q\in\mathcal{G}$ if and only if 
For every $G\in\mathcal{G}$:
\begin{enumerate}
\item 
If $E(G)$ is dyad $\{e,f\}$ then
\[
I(Q)(x_e Y_f - y_f X_e ) = 
I(Q)(x_f Y_e - y_e X_f).
\]
where $Q=G/e\setminus f=G/f\setminus e$.
\item
If $E(G)$ is triangle $\{e,f,g\}$ then
\[
I(Q)X_g(x_e y_f - y_f X_e ) = 
I(Q)X_g(x_f y_e - y_e X_f ).
\]
where $Q=G/e\setminus f=G/f\setminus e$.
\item
If $E(G)$ is triad $\{e,f,g\}$ then
\[
I(Q)Y_g(x_e Y_f - y_f x_e) = 
I(Q)Y_g(x_f Y_e - y_e x_f).
\]
where $Q=G/e\setminus f=G/f\setminus e$.
\item
If $E(G)\{e,f\}$ is a parallel pair connected to $P$, 
\[
I(Q)(x_e Y_f - y_f x_e) = 
I(Q)(x_f Y_e - y_e x_f)
\]
where $Q=G/e\setminus f=G/f\setminus e$.
\item
If $E(G)=\{e,f\}$ is a series pair connected to $P$, 
\[
I(Q)(x_e y_f - y_f X_e) = 
I(Q')(x_f y_e - y_e X_f)
\]
where $P$-quotients
$Q=G/e\setminus f$ 
and $Q'=G/f\setminus e$.
\end{enumerate}
\end{cor}

Note: The last is the \emph{only} case where the equation is 
different from the one in the $P$-ported ZBR theorem for matroids
or oriented matroids.  

\begin{proof}
$\mathcal{G}$ is a well-behaved $P$-family of ported objects
with matroids or oriented matroids, so Theorem \ref{ZBRWellBehaved}
applies.

In all cases of Theorem \ref{ZBRWellBehaved} but the
last, the two object minors are the same graph 
because the contracted edges are path-connected,
so the equations of Theorem \ref{ZBRWellBehaved} are simplified.
\end{proof}

Both Corollaries \ref{PZBRGraphCor1} and \ref{PZBRGraphCor2} reduce
to the ZBR theorem for graphs when $P=\emptyset$.  The first
uses the property that $\mathcal{G}$ is partitioned into
minor-closed subclasses with indecomposibles $E_k$ 
for which the
initial values depend only on the matroid or oriented matroid to generalize
the original ZBR equations.  As with matroids, we find again that
the Tutte functions can distinguish different orientations of the 
the same undirected graphs.
The second relies on the 
commutivity of the graph minor operations and generalizes
the fact that different initial values may be assigned to
different indecomposibles, but then the 
conditions sufficient for the initial values to
extend to a Tutte function must be stronger.


\section{Direct and other Sums} 
\label{DirectSec}

It is a common situation that $\{N^1,N^2,N\}\subseteq\mathcal{N}$
and their matroids or oriented matroids $M(N^1)\oplus M(N^2)=M(N)$.
Tutte computation trees help.  The proposition below applies
even to non-well-behaved $N$ when the symbols
$/B^j_i|P_j$ refer to sequences of deletions and contractions.

\begin{definition}
If $\mathcal{T}_1$ and $\mathcal{T}_2$ are Tutte computation trees then
$\mathcal{T}_1\cdot \mathcal{T}_2$ is the tree obtained by appending
a separate copy of $\mathcal{T}_2$ at each leaf of $\mathcal{T}_1$.
The root is the root of the expanded $\mathcal{T}_1$.
\end{definition}

\begin{prop}
\label{SumProp2}

Suppose $N$, $N^1$ and $N^2$ are all in $\mathcal{N}$
and $M(N^1)\oplus M(N^2)=M(N)$.  Then if
$\mathcal{T}_1$ and $\mathcal{T}_2$ are Tutte computation
trees for $N^1$ and $N^2$ respectively with values given
by \eqref{DS1} and \eqref{DS2}, then there is a Tutte
computation tree for $N$ that yields the value given
by \eqref{DS}.

\begin{equation}
\label{DS1}
\tag{DS1}
\sum_{Q^1_i}I(Q^1_{i})c_1(Q^1_{i})\text{ where }Q^1_i=N/B^1_i|P_1.
\end{equation}
\begin{equation}
\label{DS2}
\tag{DS2}
\sum_{Q^2_j}I(Q^2_{i})c_2(Q^2_{j})\text{ where }Q^2_i=N/B^2_i|P_2.
\end{equation}
\begin{equation}
\tag{DS}
\label{DS}
\sum_{Q^1_i,Q^2_j}I(Q_{i,j})c_1(Q^1_{i})c_2(Q^2_{j})
\text{ where }Q_{i,j}=N/B^1|P_1\cup S(N^2)/B^2|P_2.
\end{equation}

Furthermore, if $T$ is a Tutte function on $\mathcal{N}$
and $T(N^1)$ and $T(N^2)$ equal the Tutte polynomials
given by \eqref{DS1} and \eqref{DS2} then 
$T(N)$ equals the polynomial given by \eqref{DS}.
\end{prop}

\begin{proof}

We show how to relabel $\mathcal{T}_1\cdot\mathcal{T}_2$ to obtain 
a Tutte computation tree for $N$.  $M(N^1)\oplus M(N^2)=M(N)$ is defined
means $S(M(N^1))\cap S(M(N^2))=\emptyset$ and 
$S(M(N))=S(M(N^1))\cup S(M(N^2))$.   Each node of 
$\mathcal{T}_1\cdot\mathcal{T}_2$ is determined by 
by deleting and/or contracting some elements of
$E(M(N^1))\cup E(M(N^2))$.  Relabel that node with the 
$P$-minor of $N$ obtaining deleting and/or contracting the
same elements respectively in the same order, those in $N^1$
preceding those in $N^2$.  The result is a computation tree for $N$
because $M(N^1)\oplus M(N^2)=M(N)$.  Assume $P\subseteq S(M(N))$
(otherwise, take a smaller $P$) and let $P^1=S(M(N^1))\cap P$
and $P^2=S(M(N^2))\cap P$.
At a leaf of the relabelled
tree, there will be the $P$-quotient $N/B_1/B_2|P$ where
$B_1$ is a $P^1$-subbasis of $M(N^1)$ and $B_2$ is a $P^2$-subbasis
of $M(N^2)$.  

\end{proof}

\subsection{Strong Tutte Functions}

Let us extend the definition of strong parametrized Tutte function
to $P$-families $\mathcal{N}$ of objects with matroids and oriented matroids,
in the way that abstracts the known notion of strong Tutte functions
on minor closed families of graphs\cite{Ellis-Monaghan-Traldi}.
Of course, taking $\mathcal{N}$ to be a $P$-family $\mathcal{C}$ of 
matroids or oriented matroids gives us the extension to such $\mathcal{C}$.
Then, there might still be indecomposibles besides or instead of $\emptyset$.

\begin{definition}
A $P$-ported separator-strong Tutte function $T$ on a $P$-family of 
objects $\mathcal{N}$
with matroids is called \emph{strong} if
whenever $\{N^1, N^2, N\}\subseteq\mathcal{N}$
and 
$M(N^1)\oplus M(N^2)=M(N)$, 
then $T(N^1)T(N^2)=T(N)$.
\end{definition}


We can use Proposition \ref{SumProp2}
to prove the generalization of
the $T(\emptyset)T(\emptyset)=T(\emptyset)$ 
characterization of strong Tutte
functions.

\begin{thm}
\label{StrongTheorem}
A $P$-ported separator-strong Tutte function $T$ on a $P$-family of 
objects 
with matroids or oriented matroids $\mathcal{N}$ 
is \emph{strong} if and only if
$T$ restricted to the indecomposibles of 
$\mathcal{N}$ is strong; i.e.,
whenever $Q^1$, $Q^2$ and 
$Q$ are indecomposibles and $M(Q^1)\oplus M(Q^2)=M(Q)$ then
$T(Q^1)T(Q^2)=T(Q)$.
\end{thm}

\begin{proof}
Every $P$-quotient is in $\mathcal{N}$, so clearly $T$ restricted
to the $P$-quotients is strong.

Conversely, suppose $N^1$, $N^2$ and $N$ are in $\mathcal{N}$ and
$M(N^1)\oplus M(N^2)=M(N)$, so Proposition \ref{SumProp2} applies.

Since $M(N^1)\oplus M(N^2)=M(N)$, 
$M(N/(B_1\cup B_2)|P)$ $=$ $(M(N^1)/B_1|P)\oplus (M(N^2)/B_2|P)$
$=$ $M(N^1/B_1|P)\oplus M(N^2/B_2|P)$.  
We now use the fact
that $Q_{ij}=N/B_1/B_2|P$, $Q^1_i=N^1/B_1|P$ and $Q^2_j=N^2/B_2|P$ are 
$P$-quotients and the hypothesis to
write $T(Q_{ij})=T(Q^1_i)T(Q^2_j)$.  


We therefore conclude $T(N)=T(N^1)T(N^2)$
from \eqref{DS1}, \eqref{DS2} and  \eqref{DS}.

\end{proof}

\subsection{Multiplicative Tutte Functions}

Often
$\mathcal{N}$ comes equipped with one 
operation ``$*$'', or more, that satisfy
the following definition.  
Examples for $P=\emptyset$ are disjoint union $\amalg$
and one-point unions of graphs \cite{Ellis-Monaghan-Traldi}.
These can be extended to $P$-ported graphs 
and disjoint union can be extended to $P$-families of 
objects.

\begin{definition}
A partially defined binary operation ``$*$'' on
a $P$-family of objects with matroids or oriented matroids
$\mathcal{N}$ is \emph{a matroidal direct sum} if 
whenever $N^1*N^2\in\mathcal{N}$ is defined for
$\{N^1,N^2\}\subseteq\mathcal{N}$, the 
matroids or oriented matroids satisfy
$M(N^1)\oplus M(N^2) = M(N^1*N^2)$.
\end{definition}

Proposition \ref{SumProp2} applies
when $N^1*N^2=N$ is defined.
It gives a general recipe for $T(N^1*N^2)$ which generalizes
the identity \cite{Ellis-Monaghan-Traldi}
$T(M^1\oplus M^2)T(\emptyset)=T(M^1)T(M^2)$ 
for separator-strong Tutte functions of
matroids.
The $P$-ported generalization is more complicated and generally cannot
be expressed by a product in the domain ring of $T$.  

\begin{prop}
\label{SumProp}
Suppose $*$ is a matroidal direct sum and
$N^1$, $N^2$ and $N^1*N^2$ are each members of a $P$-family
for which $T$ is a Tutte function.

If for $P$-quotients $Q^j_i$ and $R$-coefficients $c_j(Q^j_i)$, $j=1$ and $2$,
\begin{equation}
\label{MD1}
\tag{MD1}
T(N^1) = \sum_{Q^1_i}T(Q^1_{i})c_1(Q^1_{i})
\end{equation}
and
\begin{equation}
\label{MD2}
\tag{MD2}
T(N^2) = \sum_{Q^2_j}T(Q^2_{i})c_2(Q^2_{j})
\end{equation}
then
\begin{equation}
\label{MD}
\tag{MD}
T(N^1 * N^2) = \sum_{Q^1_i,Q^2_j}T(Q^1_{i}*Q^2_{j})c_1(Q^1_{i})c_2(Q^2_{j}).
\end{equation}
\end{prop}

\begin{proof}
Substitute $Q_{i,j}=Q^1_i*Q^2_j$ in \eqref{DS} of Proposition \ref{SumProp2}.
\end{proof}


When $\mathcal{N}$ is a $P$-family of matroids or oriented matroids,
direct matroid or oriented matroid sum is obviously a matroidal direct
sum operation, and so Proposition \ref{SumProp} is applicable.

\begin{cor}\cite{Ellis-Monaghan-Traldi}
Let $P=\emptyset$.
$T(M^1\oplus M^2)T(\emptyset) = T(M^1)T(M^2)$ for Tutte
function $T$ of matroids.
\end{cor}

\begin{proof}
Our proof demonstrates how Proposition \ref{SumProp}
generalizes this formula to $P$-families.
The expansions \ref{DS1} and \ref{DS2} take the one-term form
$T(M^j) = T(\emptyset) c_j(\emptyset)$, $j$ $=$ $1,2$,
so $T(M^1)T(M^2)=T(\emptyset)^2 c_1(\emptyset) c_2(\emptyset)$.
Expansion \ref{DS} is then
$T(M^1\oplus T^2)=T(\emptyset) c_1(\emptyset) c_2(\emptyset)$.
\end{proof}

Following the definitions for graphs in \cite{Ellis-Monaghan-Traldi}, we write:

\begin{definition}
Given a matroidal direct sum $*$ on $\mathcal{N}$, 
a Tutte function $T$ on $\mathcal{N}$ is
\emph{multiplicative} (with respect to ``$*$'')
if whenever $N^1*N^2$ is defined
for $\{N^1,N^2\}\subseteq \mathcal{N}$, the Tutte
function values satisfy 
$T(N^1)T(N^2)=T(N^1*T^2)$.
\end{definition}

A strong Tutte function is certainly multiplicative
for any ``$*$'', but not conversely.  A consequence
of Proposition \ref{SumProp2} is that,
like strong Tutte functions, multiplicative
Tutte functions are characterized by being that way
on the indecomposibles.  

\begin{cor}
A $P$-ported Tutte function $T$ on $P$-family $\mathcal{N}$ 
is multiplicative with respect to matroidal direct product
``$*$'' if and only if 
for every pair of indecomposibles $\{Q_i, Q_j\}\in\mathcal{N}$ for which 
$Q_i*Q_j\in\mathcal{N}$ is defined, $T(Q_i)T(Q_j)=T(Q_i*Q_j)$.
\end{cor}

\begin{proof} 
When $N^1*N^2$ is defined, Proposition \ref{SumProp2}
applies because $M(N^1)\oplus  M(N^2)=M(N^1*N^2)$.
$T(N^1*N^2)=T(N^1)T(N^2)$ is then a consequence
of $T(Q_i*Q_j)=T(Q_i)T(Q_j)$.
\end{proof}

In the case when $P=\emptyset$ and the vertices are unlabelled,
we can prove a strengthening of part of Ellis-Monaghan and Traldi's
Corollary 3.13.  It is stronger because it does not require 
any additional hypotheses on $\mathcal{G}$ to prove that all
initial values that occur are the same idempotent.

\begin{cor}
Suppose $T$ is parametrized Tutte function on a minor-closed class
of graphs $\mathcal{G}$ (note $P=\emptyset$.)  
$T$ is strong if and only if 
there is an idempotent $\alpha=\alpha^2\in R$ and $T(E_k)=\alpha$
whenever $\mathcal{G}_k\neq\emptyset$.
\end{cor}

\begin{proof}
$M(E_k)=\emptyset$ for all $k\geq 1$ and 
$\emptyset\oplus\emptyset=\emptyset$, so 
$T(E_i)T(E_j)=T(E_k)$ whenever $\mathcal{G}_i$,
$\mathcal{G}_j$ and 
$\mathcal{G}_k$ are all non-empty.  Hence, if
$\mathcal{G}_k\neq\emptyset$ then $T(E_k)T(E_k)=T(E_k)=\alpha$.
Further, if $\mathcal{G}_j\neq\emptyset$ with $j\neq k$,
$\alpha=T(E_k)=T(E_k)T(E_k)=T(E_j)$.
\end{proof}

The other case of Corollary 3.13 \cite{Ellis-Monaghan-Traldi} requires
additional conditions for a Tutte function that is multiplicative on
both disjoint union $\amalg$ and one-point unions  to always
be strong.  Consider $\mathcal{N}=\{E_3, E_4, E_5,  \ldots \}$,
$T(E_k)=1$ for $k\geq 3$, $k\neq 5$ and 
$T(E_5)=0$.  $T(E_3)T(E_4)=1\neq T(E_5)$, so 
$T$ is not strong, but $T$ is multiplicative
on disjoint and one-point unions because $E_5$ cannot be expressed
as either kind of union of graphs in $\mathcal{G}$.  The other conditions
are that $\mathcal{G}_k\neq\emptyset$ for all $k$ and that 
$\mathcal{G}$ is closed under one-point unions and removal of isolated
vertices.

\section{Acknowledgements}

I wish to thank the Newton Institute for Mathematical Sciences
of Cambridge University for hospitality and support of my
participation in the Combinatorics and Statistical Mechanics
Programme, January to July 2008, during which some of this
work and much related subjects were reviewed and discussed.

I thank the organizers of 
the Thomas H. Brylawsky Memorial Conference, Mathematics Department of
The University of North Carolina, Chapel Hill, October 2008, 
Henry Crapo, Gary Gordon and James Oxley
for
fostering collaboration beween people who carry
on the memory of Prof. Brylawsky and editing this journal
issue.  

I thank Lorenzo Traldi for bringing to my attention and
discussing Diao and Hetyei's work, as well as
Joanne Ellis-Monaghan, Gary Gordon, Elizabeth McMahon
and Thomas Zaslavsky for helpful conversations and communications
at the Newton Institute and elsewhere, and
my University at Albany colleague Eliot Rich for mutual assistance with
writing.

This work is also supported by a Sabbatical leave granted
by the University at Albany, Sept. 2008 to Sept. 2009.



\bibliographystyle{abbrv}
\bibliography{ParamTutte}


\end{document}


\newpage


\section*{FIGURES TO PLACE}

\begin{figure}[!h]
\input{2parP.pdf_t}
\caption{$\{e,f\}=E(M)$ are parallel connected to $P$. $Q_1=M/e\setminus f$ $=$
$M/f\setminus e$, $Q_2=M\setminus \{e,f\}$.}
\end{figure}

\begin{figure}[!h]
\input{2serP.pdf_t}
\caption{$\{e,f\}=E(M)$ are series connected to $P$. $Q_1=M/e\setminus f$ $=$
$M/f\setminus e$, $Q_2=M/\{e,f\}$.}
\end{figure}

\begin{figure}[!h]
\input{digon.pdf_t}\\
\vspace{10pt}
\input{triad.pdf_t}\\
\vspace{10pt}
\input{triangle.pdf_t}
\caption{Cases from ZBR}
\end{figure}


\input{c4p2.pdf_t}







\end{document}

The purpose of this paper is to extend, to matroids and graphs with
a set of distinguished elements $P$,  known results and methods pertaining
to solutions to \eqref{TA} together with the multiplicative
identities
\begin{eqnarray}
\label{M-P-T-identities}
T(M)=X_e T(M/e) \text{ if $e\in S(M)$ is a coloop}\\
T(M)=Y_e T(M\setminus e) \text{ if $e\in S(M)$ is a loop}\\
T(M_1\oplus M_2)=T(M_1)T(M_2)
\end{eqnarray}
when these identities are restricted to apply only when $e\not\in P$.
Solutions to \eqref{TA} and \ref{TSM} are
called \emph{Tutte functions}.  


Zaslavsky\cite{MR93a:05047}
defines the normal class of parametrized (but not ported) Tutte
functions as those Tutte functions for which there exist 
$u$ and $v$ for which, for all $e$,
the point value on coloop $e$ is $r_eu + g_e$ 
and the point value
on loop $e$ is $g_ev + r_e$.  The normal Tutte functions 
are exactly those obtained by substitutions into the parametrized corank-nullity
polynomial.  All Tutte invariants are normal Tutte functions
and non-normal Tutte functions do not express much of
the matroid structure---See 
\cite{MR93a:05047,BollobasRiordanTuttePolyColored,Ellis-Monaghan-Traldi}
for details about how parametrization complicates Tutte invariant
theory.  

Our Theorem \ref{MEofUnimodularExt} expresses how
$\ext{M}_E(\mathcal{N})$ 
fits into the natural ported generalization of the
normal class.  Our extensor Tutte function of ported oriented 
unimodular matroids and its invariant specialization is expressed
by a substitution into the ported corank-nullity polynomial of
oriented matroids.

While only the normal Tutte functions have corank-nullity
polynomial expressions, they all have 
basis expansion expressions\cite{MR93a:05047}.
In the rest of this section, we discuss these and other
expansion expressions for ported unoriented and oriented matroids.

Unlike in the non-parametrized case, even without
distinguished elements, different formal polynomials result from
different calculations.  These formal polynomials are in the
parameters, values for $T$ of loops, coloops and the initial value
$T(\emptyset)$.  Additional polynomial identities in these values must
be satisfied in order for the values together with the to have a
solution.  A solution of course means that $T(M')$ for all the
(matroid) minors of $M$ satisfy all the Tutte identities;
equivalently, all calculation sequences give the same result.  When
the parameters are all $1$, the value for each loop is $t$, the value
for each coloop is $z$ and the initial value $T(\emptyset)=1$, it is
well-known that the identities have a unique solution which is a
polynomial in $z$ and $t$.  That is the famous Tutte polynomial.  It
is well-known as a universal Tutte invariant $U(M)(t,z)$--all Tutte
invariants $F(M)$ are obtained as $F(M)=U(M)(F(U_{0,1}),F(U_{1,1})$,
where $U_{0,1}$ is the loop matroid on any ground set $\{e\}$ and
$U_{1,1}$ is the coloop matroid.  Since additional conditions
involving parameters, loop/coloop, and empty matroid values are needed
for a solution, we will avoid the term ``Tutte polynomial'' for now
and use the term Tutte function to denote any solution to the
parametrized Tutte equations.

Several recent papers have demonstrated the essential equivalences
between most different, seemingly incompatible forms for solutions of
parametrized Tutte equations (which have been called ``Tutte
polynomials'').  Their conclusions are that, like for Tutte
invariants, universal solutions can be given.  Their conclusion is
that, like for Tutte invariants, universal solutions can be given so
that every Tutte function is obtained by a variable substitution into
the universal solution.


For convenience in subsequent discussion, we will
call a theorem with identities like those in 
Theorem \ref{BigTheorem}
or in the ZBR theorem for graphs given by Ellis-Monaghan and 
Traldi a ZBR-matroid type theorem, and one with identities
like those just above a ZBR-object type theorem.  The common
feature of these ZBR-type theorems is that the identities
are each associated with a minor having only two or three non-port
elements.




\section{Applications to Graphs}
\label{GraphSec}

The $P$-family of objects with matroids or oriented matroids abstraction
helps us explore multiple kinds of graphs and their $P$-ported
Tutte functions.  
We consider only separator-strong and strong Tutte functions.
We first  define graphs with labelled vertices and extend
Ellis-Monaghan and Traldi's ZBR theorem for graphs to them.

That is followed by an example whose Tutte functions do satisfy
ported ZBR-matroid type theorems, and one where only 
a ported ZBR-object type theorem is satisfied.

Indeed, the immediate generalization of that theorem
fails when $P\neq\emptyset$.  That is because, even when 
$P=\emptyset$ so the theorem holds, the Tutte function depends on the
indecomposible graphs, not just their matroids.  
(????In the
$P=\emptyset$ case, the indecomposibles are $E_k$, the graphs
with no edges and $k$ vertices, so the matroids are all $\emptyset$.)
[[[SHOULD THIS BE IN SUM SECTION?? Next, 
we prove that a separator-strong Tutte function is strong if
and only if it is strong on the indecomposibles.  This is independent
of whether the graphs satisfy a ZBR-type theorem or not!]]]
The section concludes with a generalization of the ZBR theorem
for graphs with labelled vertices.  The Tutte function must
be equal on all indecomposibles $Q_i$ with the same partition $\pi$
of vertex labels, assignment of port edges in $Q_i$ to parts of
$\pi$, and matroid or oriented matroid on the port edges.
When $P=\emptyset$, all the matroids become $\emptyset$ as in
Ellis-Monaghan and Traldi's ZBR theorem for unlabelled graphs.


Since our attitude is to retain the labels of the entities not removed
by deletion or contraction,
we begin with a definition of data preserved in $P$-minors that is
more detailed than the number of graph components because
it includes vertex labels.  We remind the 
reader that our  definition \cite{Ellis-Monaghan-Traldi} 
of graph minor
excludes deletion of isthmuses or of isolated vertices, and 
considers the removal of a loop to be a deletion.



\subsection{Strong Tutte Functions}

Strong parametrized Tutte functions for graphs are immediately
generalized to $P$-ported graphs, and Theorem \ref{StrongTheorem}
applies directly.  It generalizes part of the concluding
proposition about strong Tutte functions for graphs in 
\cite{Ellis-Monaghan-Traldi}.

\subsection{Matroidal Direct Sums in Graphs}

Ellis-Monaghan and Traldi derived relationships between the parametrized
Tutte functions of two graphs $G^1, G^2\mathcal{G}$ and their disjoint
union $G^1\amalg G^2$
and one-point union $G^1\cdot G^2$, where $\mathcal{G}$ was
a minor closed class.  Vertices were unlabelled and
$\mathcal{G}$ was partitioned into the minor-closed subclasses $\mathcal{G}_k$
of graphs with $k$ graph components.
In this situation, each non-empty $\mathcal{G}_k$ has exactly one
indecomposible $E_k$, the graph with no edges and $k$ vertices.  The
resulting ZBR theorem for graphs had $\alpha_k=T(E_k)$ in place of 
$\alpha=T(\emptyset)$ in the ZBR theorem for matroids, 
Theorem \ref{ZBRmatroids}.   Every Tutte function value had the
form $T(G)=\alpha_kr$, $r\in R$ where $G\in\mathcal{G}_k$.

\begin{prop}
\begin{enumerate}
\item If $M(G)=M(G')$ then there exist $r_i\in R$ such that
$T(G)=\sum T(Q_i)r_i$ and $T(G')=\sum T(Q_i')r_i$, where
$Q_i'$ is the $P$-quotient of obtained by deleting and contracting
respectively the same set of edges from $G'$ as $Q_i$ was obtained
from $G$.

For $P=\emptyset$, this specializes to 
$T(G)=\alpha_{k}r$ and $T(G')=\alpha_{k'}r$ 
when $G\in\mathcal{G}_k$ and $G'\in\mathcal{G}_{k'}$ and 

\item
Given any $e\in E(G)$, one expression for $T(G)$ is
$\sum(r_iX_e + s_iY_e)T(Q_i)$.

For $P=\emptyset$, this specializes to 
$T(G) =(rX_e + sY_e)\alpha_k$, when $G\in\mathcal{G}_k$.

\item
If $G^1$, $G^2$ and $G^1\amalg G^2\in\mathcal{G}$ and
$T(G^j)=\sum T(Q^j_i)r^j_i$ for $i=1,2$, then
\begin{equation*}
T(G^1\amalg G^2)= \sum T(Q^1_i\amalg T(Q^2_j)r^1_ir^2_j
\end{equation*}
and
\begin{equation*}
T(G^1)T(G^2)= \sum T(Q^1_i)T(Q^2_j)r^1_ir^2_j.
\end{equation*}

When $P=\emptyset$, this specializes to $T(G^1\amalg G^2)=\alpha_{k_1+k_2}r$
and $T(G^1)T(G^2)=\alpha_{k_1}\alpha_{k_2}r$.

\item $T$ is multiplicative with respect to $\amalg$, that is,
if $G^1$, $G^2$ and $G^1\amalg G^2$ are all in $\mathcal{G}$, then
$T(G^1\amalg G^2)=T(G^1)T(G^2)$, if and only if whenever
$Q_i$, $Q_j$ and $Q_i\amalg Q_j$ are all $P$-quotients in
$\mathcal{G}$, then $T(Q_i)T(Q_j)=T(Q_i\amalg Q_j)$.

When $P=\emptyset$, this specializes to $T$ is multiplicative
with respect to $\amalg$ if and only if
$\alpha_{k_1}\alpha_{k_2}$ $=$ $\alpha_{k_1+k_2}$
whenever $\mathcal{G}_{k_1}$, $\mathcal{G}_{k_2}$
and $\mathcal{G}_{k_1+k_2}$ are all non-empty.
\end{enumerate}
\end{prop}

\begin{proof}
The first two can be proved as in \cite{Ellis-Monaghan-Traldi}, or 
by analyzing Tutte computation trees

The last two follow from Proposition \ref{SumProp}.
\end{proof}

\cite{Ellis-Monaghan-Traldi} also gave analogous results for
one-point union, which can be generalized in the same way.

\subsection{A Natural ZBR Theorem for Labelled Ported Graphs}


So, to generalize the ZBR theorem to graphs with port edges in 
a way that the edge deletion and contraction
operations remain compatible with both the
graphic matroid (or oriented matroid) structure and 
vertex structure, we have to add a hypothesis.  To do that
and get the exact generalization 
of Corollary 3.4, the generalized Zaslavsky–Bollob\'{a}s–Riordan theorem for 
graphs in \cite{Ellis-Monaghan-Traldi}
we require that the function
values $T(G_1)=T(G_2)$ whenever graphs $G_1$ and $G_2$ are 
are path-connected and have the same matroids (or oriented matroids).


The separator-strong reductions applied to a graph
clearly preserve the vertex set $V$ and the partition of $V$
induced by path-connectedness.  The graphic 2-edge-connectivity
structure is of course identical to the matroid connectivity structure.
It is therefore natural, and motivated by Diao and 
Hetyei's applications to virtual knots \cite{RelTuttePoly}, to define
a separator-strong Tutte function of graphs as follows:

\begin{definition}
Two graphs $G_1$, $G_2$ with the same vertex set $V$ and edge set $S$
have the same connectivity structure if and
only if they have the same graphic matroids (or oriented matroids) on
$S$ and the same partition of $V$ induced by path-connectedness.

A separator-strong Tutte function $T$ of graphs is a function from a $P$-family
of graphs to ring $R$ which satisfies \eqref{TA}, \eqref{TSSM} applied to
their graphic matroids and for which $T(G_1)=T(G_2)$ if $G_1$ and $G_2$ have
the same connectivity structure.
\end{definition}


Let us say two $P$-quotients $Q_i$ and $Q_j$ are equivalent if they
have the same matroid (or oriented matroid) and have the same connectivity
structure.

\begin{lem}
$F$ is a Tutte function on a $P$-family of graphs if and only if
$F$ satisfies 
\eqref{TA} and  \eqref{TSSM}, and $F(Q_i)=F(Q_j)$ for all pairs 
of equivalent 
$P$-quotients $Q_i$ and $Q_j$.
\end{lem}




---------------------------------------------------


The following easy observations
formalize how Tutte computation trees for $N$ and $N'$
have the same structure when $M(N)=M(N')$ and how 
the Tutte polynomials are related.

\begin{lem}
If $M(N)=M(N')$ and
$\sum_{i\in Z} I(N/B_i|P) r_i$ is the value from
Tutte computation tree $\mathcal{T}$
for $N$, then $\mathcal{T}$ can be relabelled
to construct a Tutte computation tree for $N'$
that yields the value
$\sum_{i\in Z} I(N'/B_i|P) r_i$
with the same index set $Z$ and $r_i\in R$ for $i\in Z$.
\end{lem}

\begin{prop}
If $T$ is a separator-strong Tutte function on $\mathcal{N}$
and 
$T(N)=\sum_{i\in Z} I(N/B_i|P) r_i$ 
is the Tutte polynomial expression from some computation tree,
then
$T(N')=\sum_{i\in Z} I(N'/B_i|P) r_i$
with the same index set $Z$ and $r_i\in R$ for $i\in Z$.
\end{prop}

